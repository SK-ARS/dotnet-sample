@using PagedList.Mvc
@using STP.Web.Content.UIHelpers.Movements
@using STP.Domain.MovementsAndNotifications.Movements
@model PagedList.IPagedList<STP.Domain.MovementsAndNotifications.Movements.MovementsList>
<style>
    /*.statusinline {
            display: inline-flex;
        }*/

    #filters .sidenav-header span {
        font-size: 30px;
    }

    .sorticon {
        filter: invert(100%);
    }

    /*  .esdal-table > thead .sorting,
        .esdal-table > thead .sorting_asc,
        .esdal-table > thead .sorting_desc,
        .esdal-table > thead .sorting_asc_disabled,
        .esdal-table > thead .sorting_desc_disabled {
            cursor: pointer;
            position: relative;
        }

            .esdal-table > thead .sorting:before,
            .esdal-table > thead .sorting:after,
            .esdal-table > thead .sorting_asc:before,
            .esdal-table > thead .sorting_asc:after,
            .esdal-table > thead .sorting_desc:before,
            .esdal-table > thead .sorting_desc:after,
            .esdal-table > thead .sorting_asc_disabled:before,
            .esdal-table > thead .sorting_asc_disabled:after,
            .esdal-table > thead .sorting_desc_disabled:before,
            .esdal-table > thead .sorting_desc_disabled:after {
                position: absolute;
                bottom: 1.7em;
                display: block;
                opacity: .3;
            }

            .esdal-table > thead .sorting:before,
            .esdal-table > thead .sorting_asc:before,
            .esdal-table > thead .sorting_desc:before,
            .esdal-table > thead .sorting_asc_disabled:before,
            .esdal-table > thead .sorting_desc_disabled:before {
                right: 1em;
                content: "↑";
            }

            .esdal-table > thead .sorting:after,
            .esdal-table > thead .sorting_asc:after,
            .esdal-table > thead .sorting_desc:after,
            .esdal-table > thead .sorting_asc_disabled:after,
            .esdal-table > thead .sorting_desc_disabled:after {
                right: 0.5em;
                content: "↓";
            }

            .esdal-table > thead .sorting_asc:before, .esdal-table > thead .sorting_desc:after {
                opacity: 1;
            }*/

    .filtered-icon {
        background: url('../../Content/assets/Icons/filtered.svg') no-repeat center 90% #2b5795;
        background-size: 1rem;
    }

    .esdal-filter-icon {
        background: url('../../Content/assets/Icons/filtered.svg') no-repeat center 0 #2b5795;
        background-size: 1rem;
        width: 20px;
        height: 20px;
        display: inline-block;
        position: absolute;
        margin-left: 3px;
    }

    .absolute {
        position: absolute;
        right: 150px;
        width: 157px;
        height: 120px;
        padding-right: 0%;
        white-space: nowrap;
    }

    .movements td:nth-child(1) {
        text-align: left;
    }

    /*    .filter-table-icon {
            position: absolute;
            bottom: -13px;
            -webkit-transform: translateX(-50%) translateY(-50%);
            -moz-transform: translateX(-50%) translateY(-50%);
            transform: translateX(-50%) translateY(-50%);
            left: 50%;
        }
    */
    .filter-table-icons {
        position: absolute;
        bottom: -4px;
        -webkit-transform: translateX(-50%) translateY(-50%);
        -moz-transform: translateX(-50%) translateY(-50%);
        transform: translateX(-50%) translateY(-50%);
        left: 17px;
    }

        .filter-table-icons img {
            width: 18px;
        }

    .haulier-sort:hover {
        background-color: white;
        color: rgba(39, 87, 149, 1);
    }
</style>
@{

}

<div id="div_so_movement_list" class="main-table p-unset overflow-hidden" style="border-radius:25px 0px 0px 0px">
    @{
        int listCount = 0;
        listCount = (int)Session["PageSize"];
        int recCnt = 0;
        int pageNum = ViewBag.page;
        bool planmvmt = ViewBag.PlanMovement;
        //bool premvmnt = ViewBag.PrevMovImport;
        if (ViewBag.pageSize != null)
        {
            pageNum = ViewBag.page;
        }
        int orgId = ViewBag.organisationId;

        bool isSOMove = true;
        if (ViewBag.MovementListForSO != null)
        {
            isSOMove = ViewBag.MovementListForSO;
        }
        bool isExistSoVR1 = ViewBag.IsExistSOVr1 != null ? Convert.ToBoolean(ViewBag.IsExistSOVr1) : false;

        int ShowPrevMoveSortRoute = 0;
        if (ViewBag.showrtveh != null)
        {
            ShowPrevMoveSortRoute = ViewBag.showrtveh;
        }

        MovementsFilter objHaulMovementFilter = null;
        if (ViewBag.objMovementFilterHaul != null)
        {
            objHaulMovementFilter = ViewBag.objMovementFilterHaul;
        }
        var AppType = 0;

        var movementFilter = (MovementsFilter)ViewBag.MovementFilter;
        var movementsAdvancedFilter = (MovementsAdvancedFilter)ViewBag.MovementsAdvancedFilter;
        int pageSize = ViewBag.pageSize;
    }


    @*@Html.Hidden("pageSizeVal", pageNum)*@
    @Html.Hidden("pageSizeValsort", pageSize)
    @Html.Hidden("pageNumsort", pageNum)
    @Html.Hidden("pageNum", pageNum)
    @Html.Hidden("HFVR1route", true)
    @Html.Hidden("totalPageCount")
    @Html.Hidden("ShowPrevMoveSortRoute", ShowPrevMoveSortRoute)
    @Html.Hidden("TotalPages", Model.PageCount)
    @foreach (var item in Model)
    {

        string status = item.Status;
        string className = string.Empty;
        switch (status)
        {
            case "received by ha":
                className = "received";
                break;
            case "withdrawn":
                className = "withdrawn";
                break;
            case "approved":
                className = "approved";
                break;
            default:
                className = "other";
                break;
        }
    }
    <!-- table -->
    <div class="main-table movements" id="so-movements" style="margin-left:0%;">
        <div class="table-responsive">
            <table class="so-movements-table esdal-table">
                @*@Html.SoMovementHeader(isSOMove)*@


                @{
                    var sortOrder = ViewBag.SortOrder != null ? (int)ViewBag.SortOrder : 11;
                    var sortType = ViewBag.SortType != null ? (int)ViewBag.SortType : 0;
                    var isTypeFilterEnabled = movementFilter.SO || movementFilter.VSO || movementFilter.STGO || movementFilter.CandU ||
                                        movementFilter.Tracked || movementFilter.STGOVR1;
                    var isStatusFilterEnabled = movementFilter.WorkInProgressNotification || movementFilter.Notifications || movementFilter.WorkInProgressApplication || movementFilter.Submitted ||
                                        movementFilter.ReceivedByHA || movementFilter.ProposedRoute || movementFilter.Agreed || movementFilter.ApprovedVR1
                                        || movementFilter.DeclinedApplications || movementFilter.WithdrawnApplications;
                    var isCollabStatusFilterEnabled = movementFilter.NewCollabration || movementFilter.ReadCollaboration;
                    var isESDALFilterEnabled = !string.IsNullOrWhiteSpace(movementsAdvancedFilter.ESDALReference);
                    var isMyReferenceFilterEnabled = !string.IsNullOrWhiteSpace(movementsAdvancedFilter.MyReference);
                    var isStartPointFilterEnabled = !string.IsNullOrWhiteSpace(movementsAdvancedFilter.StartPoint);
                    var isFleetidEnabled = !string.IsNullOrWhiteSpace(movementsAdvancedFilter.FleetId);
                    var isclientEnabled = !string.IsNullOrWhiteSpace(movementsAdvancedFilter.Client);
                    var isvehicleRegEnabled = !string.IsNullOrWhiteSpace(movementsAdvancedFilter.VehicleRegistration);
                    var isApplicationDateFilterEnabled = !string.IsNullOrWhiteSpace(movementsAdvancedFilter.ApplicationFromDate);
                    var isNotificationDateFilterEnabled = !string.IsNullOrWhiteSpace(movementsAdvancedFilter.NotificationFromDate);
                    var isEndPointFilterEnabled = !string.IsNullOrWhiteSpace(movementsAdvancedFilter.EndPoint);
                    var isMovementFromDateFilterEnabled = !string.IsNullOrWhiteSpace(movementsAdvancedFilter.MovementFromDate);
                    var isMovementToDateFilterEnabled = !string.IsNullOrWhiteSpace(movementsAdvancedFilter.MovementToDate);
                    bool isHistoricDataFilterEnabled = movementsAdvancedFilter.IncludeHistoricalData;
                    var isgrossweightenabled = movementsAdvancedFilter.AdvancedDimensionFilter!=null && movementsAdvancedFilter.AdvancedDimensionFilter.Any();
                    var isAllFilterEnabled = isTypeFilterEnabled || isgrossweightenabled || isStatusFilterEnabled || isCollabStatusFilterEnabled || isESDALFilterEnabled || isMyReferenceFilterEnabled || isHistoricDataFilterEnabled
                                                        || isStartPointFilterEnabled || isEndPointFilterEnabled || isMovementFromDateFilterEnabled || isMovementToDateFilterEnabled || isFleetidEnabled || isclientEnabled || isvehicleRegEnabled || isApplicationDateFilterEnabled || isNotificationDateFilterEnabled;

                    <thead>
                        <tr>
                            @if (Model.Count > 0)
                            {
                                <th style="text-align: center;" class="folder-drag-elem-select-all-container"><input type="checkbox" class="folder-drag-elem-select-all" title="Select All" /></th>
                            }
                            @if (ViewBag.PlanMovement == false)
                            {
                                <th style="width:0%;"></th>
                            }
                            <th class="haulier-sort" style="width:12%;">
                                <span class="sorting spnSortIconItem @GetSortDefaultClass(sortType,sortOrder,10)" data-action="HaulierSort" data-sortval="10">Type </span>
                                <span class="filter-table-icons"><img id="filterimageType" style="display:@(isTypeFilterEnabled?"block":"none")" src="~/Content/assets/images/filter-table-icon.svg"></span>
                            </th>
                            <th style="width:3%;">
                                Status
                                <span class="filter-table-icons"><img id="filterimageStatus" style="display:@(isStatusFilterEnabled?"block":"none")" src="~/Content/assets/images/filter-table-icon.svg"></span>
                            </th>
                            @if (ViewBag.PlanMovement == false)
                            {
                                <th>
                                    Collaboration
                                    <span class="filter-table-icons"><img id="filterimageCollab" style="display:@(isCollabStatusFilterEnabled?"block":"none")" src="~/Content/assets/images/filter-table-icon.svg"></span>
                                </th>
                            }
                            <th class="haulier-sort">
                                <span class="sorting spnSortIconItem @GetSortDefaultClass(sortType,sortOrder,11)" data-action="HaulierSort" data-sortval="11">ESDAL Reference </span>
                                <span class="filter-table-icons"><img id="filterimageERN" style="display:@(isESDALFilterEnabled?"block":"none")" src="~/Content/assets/images/filter-table-icon.svg"></span>
                            </th>
                            <th>
                                From
                                <span class="filter-table-icons"><img id="filterimageFrom" style="display:@(isStartPointFilterEnabled?"block":"none")" src="~/Content/assets/images/filter-table-icon.svg"></span>
                            </th>
                            <th class="haulier-sort">
                                <span class="sorting spnSortIconItem @GetSortDefaultClass(sortType,sortOrder,8)" data-action="HaulierSort" data-sortval="8">Date From </span>
                                <span class="filter-table-icons"><img id="filterimageDatefrom" style="display:@(isMovementFromDateFilterEnabled?"block":"none")" src="~/Content/assets/images/filter-table-icon.svg"></span>
                            </th>
                            <th>
                                To
                                <span class="filter-table-icons"><img id="filterimageTo" style="display:@(isEndPointFilterEnabled?"block":"none")" src="~/Content/assets/images/filter-table-icon.svg"></span>
                            </th>
                            <th class="haulier-sort">
                                <span class="sorting spnSortIconItem @GetSortDefaultClass(sortType,sortOrder,12)" data-action="HaulierSort" data-sortval="12">Date To </span>
                                <span class="filter-table-icons"><img id="filterimageDateTo" style="display:@(isMovementToDateFilterEnabled?"block":"none")" src="~/Content/assets/images/filter-table-icon.svg"></span>
                            </th>
                            <th class="haulier-sort">
                                <span class="sorting spnSortIconItem @GetSortDefaultClass(sortType,sortOrder,2)" data-action="HaulierSort" data-sortval="2">My Reference </span>
                                <span class="filter-table-icons"><img id="filterimageRef" style="display:@(isMyReferenceFilterEnabled?"block":"none")" src="~/Content/assets/images/filter-table-icon.svg"></span>
                            </th>
                            @if (ViewBag.PlanMovement == false)
                            {

                                <th style="width:2%"></th>
                                // <th style="width:2%"></th>
                            }
                            <th class="table-filter-header" style="width: 1%">
                                <img id="img_filtericon" src="~/Content/assets/images/filter-icon.svg" class="open-filter-icon-common" data-target="movementFilters" data-targetContainer=".so-movementlist-filter" data-width="760" title="Open filter" width="38">
                                <span class="filtered-icon-table "><img id="filterimage" src="~/Content/assets/images/filtered-icon.svg" title="Clear filter" style="display:@(isAllFilterEnabled||isHistoricDataFilterEnabled||isgrossweightenabled ?"block":"none")"></span>
                            </th>

                        </tr>
                    </thead>
                    if (Model.Count == 0)
                    {
                        <tbody>
                            <tr>
                                <td colspan="13" style="text-align: center">
                                    <span style="color: red">No records found</span>
                                </td>
                            </tr>
                        </tbody>
                    }
                    else
                    {
                        <tbody>
                            @foreach (var item in Model)
                            {
                                string status = item.Status;
                                string className = string.Empty;
                                switch (status)
                                {
                                    case "received by ha":
                                        className = "received";
                                        break;
                                    case "withdrawn":
                                        className = "withdrawn";
                                        break;
                                    case "approved":
                                        className = "approved";
                                        break;
                                    case "submitted":
                                        className = "submitted";
                                        break;
                                    case "declined":
                                        className = "declined";
                                        break;
                                    default:
                                        className = "other";
                                        break;
                                }

                                string movementType = item.MovementType;
                                if (!string.IsNullOrEmpty(movementType))
                                {
                                    movementType = movementType.ToLower();
                                }
                                string moveTypeToDisplay = string.Empty;

                                int movementId = 0;
                                switch (movementType)
                                {
                                    case "c and u":
                                        moveTypeToDisplay = "C&U";
                                        movementId = 270001;
                                        break;
                                    case "stgo ail":
                                        moveTypeToDisplay = "ALL STGO";
                                        movementId = 270002;
                                        break;
                                    case "stgo mobile crane":
                                        moveTypeToDisplay = "ALL STGO";
                                        movementId = 270003;
                                        break;
                                    case "vehicle special order":
                                        moveTypeToDisplay = "VSO";
                                        movementId = 270007;
                                        break;
                                    case "stgo ail cat 1":
                                        moveTypeToDisplay = "ALL STGO";
                                        movementId = 241003;
                                        break;
                                    case "stgo ail cat 2":
                                        moveTypeToDisplay = "ALL STGO";
                                        movementId = 241004;
                                        break;
                                    case "stgo ail cat 3":
                                        moveTypeToDisplay = "ALL STGO";
                                        movementId = 241005;
                                        break;
                                    case "special order":


                                        moveTypeToDisplay = "SO";
                                        movementId = 241002;
                                        break;

                                    case "stgo mobile crane cat a":
                                        moveTypeToDisplay = "ALL STGO";
                                        movementId = 241006;
                                        break;
                                    case "stgo mobile crane cat b":
                                        moveTypeToDisplay = "ALL STGO";
                                        movementId = 241007;
                                        break;
                                    case "stgo mobile crane cat c":
                                        moveTypeToDisplay = "ALL STGO";
                                        movementId = 241008;
                                        break;
                                    case "stgo engineering plant":
                                        moveTypeToDisplay = "ALL STGO";
                                        movementId = 241009;
                                        break;
                                    case "stgo road recovery":
                                        moveTypeToDisplay = "ALL STGO";
                                        movementId = 270005;
                                        break;
                                    case "wheeled construction and use":
                                        moveTypeToDisplay = "C&U";
                                        movementId = 241011;
                                        break;
                                    case "tracked":
                                        moveTypeToDisplay = "Tracked";
                                        movementId = 270008;
                                        break;
                                    case "stgo engineering plant wheeled":
                                        moveTypeToDisplay = "ALL STGO";
                                        movementId = 270004;
                                        break;
                                    case "stgo engineering plant tracked":
                                        moveTypeToDisplay = "ALL STGO";
                                        movementId = 241014;
                                        break;
                                    default:
                                        moveTypeToDisplay = movementType;
                                        movementId = 270002;
                                        break;

                                }

                                if (!string.IsNullOrEmpty(moveTypeToDisplay))
                                {

                                    moveTypeToDisplay = moveTypeToDisplay.ToUpper();

                                }

                                <tr class="table_folder_item" draggable="true" data-isexistvr1so="@isExistSoVR1" data-revisionid="@item.MovementRevisionId" data-versionid="@item.MovementVersionId" data-notificationid="@item.NotificationId"
                                    data-movementtype="@movementType" data-projectid="@item.ProjectId" @if (item.NeedAttentionFilterFlag == true) { <text> style="background-color: #F7F0E5; border-bottom-color:#FFF;border-bottom-width:1px;" </text> }>
                                    <td class="folder-drag-elem-container"><input type="checkbox" class="folder-drag-elem" aria-label="checkbox"/></td>
                                    @if (ViewBag.PlanMovement == false)
                                    {
                                        <td>
                                            @if (item.Attention == 1)
                                            {
                                                @*<img src="~/Content/assets/images/warning.svg" title="Needs attention" width="28">*@
                                            }
                                        </td>
                                    }

                                    @if (!isSOMove)
                                    {
                                        <td class="text-color1">@item.MovementType</td>
                                    }
                                    else
                                    {
                                        <td class="text-color1"></td>
                                    }

                                    @*region for status icon starts here*@
                                    <td class="text-center">
                                        <div class="top statusinline" id="status">
                                            @{
                                                if (item.IsWithdrawn == 1 && objHaulMovementFilter.WithdrawnApplications)
                                                {
                                                    if (item.VersionStatus == 305002)
                                                    {
                                                        AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                        if (ViewBag.PlanMovement == true)
                                                        {
                                                            <a href="#" id="applicationvehroute" data-movementversionid="0" data-movementtype='@item.MovementType' data-contentrefno='@item.ContentRefNum' data-applicationrevisionid="@item.ApplicationRevisionId" class="status-align">
                                                                <img src="~/Content/assets/images/up-arrow.svg"  title="Proposed" width="25">
                                                            </a>
                                                        }
                                                        else
                                                        {
                                                            <a href="#" id="redirectntfctn" data-revisionid="@item.MovementRevisionId" data-movementid="movementId" data-versionid="@item.MovementVersionId" data-hauliermnemonic="@item.HaulierMnemonic" data-esdalreference="@item.ProjectESDALReference" data-revisionnumber="@item.ApplicationRevisionNo" data-versionnumber="@item.MovementVersionNumber" data-apprevisionid="@item.ApplicationRevisionId" data-projectid="@item.ProjectId" data-pageflag="2" class="status-align">
                                                                <img src="~/Content/assets/images/up-arrow.svg"  title="Proposed" width="25">
                                                            </a>
                                                        }
                                                    }
                                                    else if (item.VersionStatus == 305003)
                                                    {
                                                        AppType = (int)STP.Common.Enums.MovementType.special_order;

                                                        <a href="#" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;" class="status-align managemovement">
                                                            <div class="text-normal-bold statusinline">
                                                                <div class="text-normal-bold"></div>
                                                                <img src="~/Content/assets/images/Group 1267.svg"  width="25" class=" ml-1 mr-1" title="Re Proposed">
                                                                <label width="15" class="mr-1" style=" margin-left: -10px; margin-top: -8px; vertical-align: 5px;" title="Re Proposed">r</label>
                                                            </div>
                                                        </a>
                                                    }
                                                    else if (item.VersionStatus == 305004)
                                                    {
                                                        <a href="#" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;" class="status-align managemovement">
                                                            <div class="text-normal-bold statusinline">
                                                                <div class="text-normal-bold"></div>
                                                                <img src="~/Content/assets/images/Group 1267.svg"  width="25" class=" ml-1 mr-1" title="Agreed">
                                                                <img src="~/Content/assets/images/Group 1269.svg"  width="15" class="mr-1"
                                                                     style="margin-left: -16px;margin-top: -20px;" title="Agreed">
                                                            </div>
                                                        </a>
                                                    }
                                                    else if (item.Status == "submitted")
                                                    {
                                                        AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                        <a href="#" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;" class="status-align managemovement">
                                                            <div class="text-normal-bold statusinline">
                                                                <div class="text-normal-bold"></div><img src="~/Content/assets/images/up-arrow.svg"  title="submitted" width="25" class="ml-1 mr-2">
                                                            </div>
                                                        </a>
                                                    }
                                                    else if (item.Status == "received by ha")
                                                    {
                                                        AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                        <div class="text-normal-bold statusinline">
                                                            <a href="#" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" class="text-decoration-link status-align-flex managemovement">
                                                                <div class="text-normal-bold"></div>
                                                                <img src="~/Content/assets/images/Group 1266.svg"  title="Received by NH" width="28" class="ml-1 mr-1 float-left">
                                                                <img src="~/Content/assets/images/Group 1269.svg"  title="Received by NH" width="15" class="mr-1 float-left"
                                                                     style="margin-left: -20px;margin-top: -5px;">
                                                            </a>
                                                        </div>
                                                    }
                                                    AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                    <a href="#" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;" class="status-align managemovement">
                                                        <div class="text-normal-bold statusinline">
                                                            <div class="text-normal-bold"></div>
                                                            <img src="~/Content/assets/images/withdrawn.svg"  width="25" class="ml-1 mr-2" title="Withdrawn">
                                                        </div>
                                                    </a>
                                                    if (item.IsDeclined == 1)
                                                    {
                                                        AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                        <a href="@Url.Action("ListSOMovements", "Application",
			                                                new {
			                                                B7vy6imTleYsMr6Nlv7VQ =
			                                                STP.Web.Helpers.EncryptionUtility.Encrypt("revisionId=" + item.MovementRevisionId +
				                                                  "&movementId=" + movementId +
				                                                  "&versionId=" + item.MovementVersionId +
				                                                  "&hauliermnemonic=" + item.HaulierMnemonic +
				                                                  "&esdalref=" + item.ProjectESDALReference +
				                                                  "&revisionno=" + item.ApplicationRevisionNo +
				                                                  "&versionno=" + item.MovementVersionNumber +
				                                                  "&apprevid=" + item.ApplicationRevisionId +
				                                                  "&projecid=" + item.ProjectId +
				                                                  "&pageflag=2"+
				                                                  "&Ishistoric=" + item.IsHistoric)
			                                                })" , style="text-decoration:none;" class="status-align">
                                                            <img src="~/Content/assets/images/cancelled.svg"  title="Declined" width="25">
                                                        </a>
                                                    }
                                                    if (item.IsNotified == 1)
                                                    {
                                                        <a href="@Url.Action("ListSOMovements", "Application",
			                                                new {
			                                                B7vy6imTleYsMr6Nlv7VQ =
			                                                STP.Web.Helpers.EncryptionUtility.Encrypt("revisionId=" + item.MovementRevisionId +
				                                                  "&movementId=" + movementId +
				                                                  "&versionId=" + item.MovementVersionId +
				                                                  "&hauliermnemonic=" + item.HaulierMnemonic +
				                                                  "&esdalref=" + item.ProjectESDALReference +
				                                                  "&revisionno=" + item.ApplicationRevisionNo +
				                                                  "&versionno=" + item.MovementVersionNumber +
				                                                  "&apprevid=" + item.ApplicationRevisionId +
				                                                  "&projecid=" + item.ProjectId +
				                                                  "&pageflag=2" +
				                                                  "&isNotifyFlag=1" +
				                                                  "&Ishistoric=" + item.IsHistoric)
			                                                })" , style="text-decoration:none;" class="status-align" title="Notification">
                                                            <div class="text-normal-bold statusinline status-align">
                                                                @*<div class="text-normal-bold">N</div>*@
                                                                <img src="~/Content/assets/Icons/notified.svg"  width="20" class="ml-1 mr-2" title="Notification">
                                                            </div>
                                                        </a>
                                                    }
                                                }
                                                else if (item.IsDeclined == 1 && objHaulMovementFilter.DeclinedApplications)
                                                {
                                                    if (movementType == "stgo ail cat 1" || movementType == "stgo cat 1 - vr1" || movementType == "stgo cat 2 - vr1" || movementType == "stgo cat 3 - vr1" || movementType == "stgo ail cat 2" || movementType == "stgo ail cat 3" || movementType == "all stgo")
                                                    {
                                                        if (item.Status == "work in progress")
                                                        {
                                                            AppType = (int)STP.Common.Enums.MovementType.vr_1;
                                                            <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                                <div class="text-normal-bold statusinline">
                                                                    <div class="text-normal-bold"></div><img src="~/Content/assets/images/WIP-icon.svg"  width="25" class="ml-1 mr-2" title="Work in progress">
                                                                </div>
                                                            </a>
                                                        }
                                                        else if (item.Status == "submitted")
                                                        {
                                                            AppType = (int)STP.Common.Enums.MovementType.vr_1;
                                                            <a href="#" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" class="text-decoration-link managemovement" style="text-decoration:none;">
                                                                <div class="text-normal-bold statusinline">
                                                                    <div class="text-normal-bold"></div><img src="~/Content/assets/images/up-arrow.svg"  title="submitted" width="25" class="ml-1 mr-2">
                                                                </div>
                                                            </a>
                                                        }
                                                        else if (item.Status == "declined")
                                                        {
                                                            AppType = (int)STP.Common.Enums.MovementType.vr_1;
                                                            <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                                <div class="text-normal-bold statusinline">
                                                                    <div class="text-normal-bold"></div><img src="~/Content/assets/images/cancelled.svg"  width="25" class="ml-1 mr-2" title="Declined">
                                                                </div>
                                                            </a>
                                                        }
                                                        else if (item.Status == "")
                                                        {
                                                            AppType = (int)STP.Common.Enums.MovementType.vr_1;
                                                            <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                                <div class="text-normal-bold statusinline">
                                                                    <div class="text-normal-bold"></div><img src="~/Content/assets/images/cancelled.svg"  width="25" class="ml-1 mr-2" title="Declined">
                                                                </div>
                                                            </a>
                                                        }
                                                    }
                                                    else if (movementType == "special order" || movementType == "so")
                                                    {
                                                        AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                        <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                            <div class="text-normal-bold statusinline">
                                                                <div class="text-normal-bold"></div><img src="~/Content/assets/images/cancelled.svg"  width="25" class="ml-1 mr-2" title="Declined">
                                                            </div>
                                                        </a>
                                                    }
                                                    if (item.IsWithdrawn == 1)
                                                    {
                                                        AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                        <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                            <div class="text-normal-bold statusinline">
                                                                <div class="text-normal-bold"></div><img src="~/Content/assets/images/withdrawn.svg"  width="25" class="ml-1 mr-2" title="Withdrawn">
                                                            </div>
                                                        </a>
                                                    }
                                                }
                                                else if (item.NotificationId != 0)
                                                {
                                                    if (item.NotificationStatus == 1)
                                                    {
                                                        AppType = (int)STP.Common.Enums.MovementType.notification;
                                                        <a href="#" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="work in progress" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" class="text-decoration-link managemovement" style="text-decoration:none;">
                                                            <div class="text-normal-bold statusinline">
                                                                <div class="text-normal-bold"></div><img src="~/Content/assets/images/WIP-icon.svg"  width="25" class="ml-1 mr-2" title="Work in progress">
                                                            </div>
                                                        </a>
                                                    }
                                                    else
                                                    {
                                                        if (ViewBag.IsNotify == true)
                                                        {
                                                            <a href="#" data-notificationid class="text-decoration-link loadnotificationroute">
                                                                <img src="~/Content/assets/images/pending.svg" title="Proposed" width="25">
                                                                <span class="icon_status icon_status_nofication" title="Notification2"></span>
                                                            </a>
                                                        }
                                                        else if (ViewBag.PlanMovement == true)
                                                        {
                                                            <a href="#" class="loadappvehicleroute" data-movementversionid="0" data-movementtype="@item.MovementType" data-contentrefno="@item.ContentRefNum" data-applicationrevisionid="@item.ApplicationRevisionId" style="text-decoration:none;" title="submitted">
                                                                <div class="text-normal-bold statusinline">
                                                                    <div class="text-normal-bold"></div>
                                                                    <img src="~/Content/assets/Icons/notification-submitted.svg"  width="20" class="ml-1 mr-2" title="submitted">
                                                                </div>
                                                            </a>
                                                        }
                                                        else
                                                        {
                                                            <a href="@Url.Action("DisplayNotification", "Notification",
                                                                    new {
                                                                    B7vy6imTleYsMr6Nlv7VQ =
                                                                    STP.Web.Helpers.EncryptionUtility.Encrypt("notificationId=" + item.NotificationId +
	                                                                      "&notificationCode=" + item.NotificationCode +
	                                                                      "&Ishistoric=" + item.IsHistoric)
                                                                    })" , style="text-decoration:none;" title="submitted">
                                                                <div class="text-normal-bold statusinline">
                                                                    <div class="text-normal-bold"></div>
                                                                    <img src="~/Content/assets/Icons/notification-submitted.svg"  width="20" class="ml-1 mr-2" title="submitted">
                                                                </div>
                                                            </a>
                                                        }
                                                    }
                                                }
                                                else if (item.VersionStatus != 0)
                                                {
                                                    switch (item.VersionStatus)
                                                    {
                                                        case 305001:
                                                            {
                                                                if (item.Status == "submitted")
                                                                {
                                                                    if (ViewBag.VR1Notify == true)
                                                                    {
                                                                        <a href="@Url.Action("ListSOMovements", "Application",
                                                                            new {
                                                                            B7vy6imTleYsMr6Nlv7VQ =
                                                                            STP.Web.Helpers.EncryptionUtility.Encrypt("revisionId=" + item.MovementRevisionId +
				                                                                              "&movementId=" + movementId +
				                                                                              "&versionId=" + item.MovementVersionId +
				                                                                              "&hauliermnemonic=" + item.HaulierMnemonic +
				                                                                              "&esdalref=" + item.ProjectESDALReference +
				                                                                              "&revisionno=" + item.ApplicationRevisionNo +
				                                                                              "&versionno=" + item.MovementVersionNumber +
				                                                                              "&apprevid=" + item.ApplicationRevisionId +
				                                                                              "&projecid" + item.ProjectId +
				                                                                              "&VR1Applciation=true" +
				                                                                              "&pageflag=1" +
				                                                                              "&VR1Notify=true" +
				                                                                              "&Ishistoric=" + item.IsHistoric)
                                                                            })" class="text-decoration-link" , style="text-decoration:none;">
                                                                            <div class="text-normal-bold statusinline">
                                                                                <div class="text-normal-bold"></div><img src="~/Content/assets/images/up-arrow.svg"  title="submitted" width="25" class="ml-1 mr-2">
                                                                            </div>
                                                                        </a>
                                                                    }
                                                                    else
                                                                    {
                                                                        <a href="@Url.Action("ListSOMovements", "Application",
                                                                            new {
                                                                            B7vy6imTleYsMr6Nlv7VQ =
                                                                            STP.Web.Helpers.EncryptionUtility.Encrypt("revisionId=" + item.MovementRevisionId +
				                                                                              "&movementId=" + movementId +
				                                                                              "&versionId=" + item.MovementVersionId +
				                                                                              "&hauliermnemonic=" + item.HaulierMnemonic +
				                                                                              "&esdalref=" + item.ProjectESDALReference +
				                                                                              "&revisionno=" + item.ApplicationRevisionNo +
				                                                                              "&versionno=" + item.MovementVersionNumber +
				                                                                              "&apprevid=" + item.ApplicationRevisionId +
				                                                                              "&projecid=" + item.ProjectId +
				                                                                              "&VR1Applciation=true" +
				                                                                              "&pageflag=2" +
				                                                                              "&Ishistoric=" + item.IsHistoric)
                                                                            })" , style="text-decoration:none;">
                                                                            <div class="text-normal-bold statusinline">
                                                                                <div class="text-normal-bold"></div><img src="~/Content/assets/images/up-arrow.svg"  title="submitted" width="25" class="ml-1 mr-2">
                                                                            </div>
                                                                        </a>
                                                                    }
                                                                }
                                                                else if (item.Status == "received by ha")
                                                                {
                                                                    AppType = (int)STP.Common.Enums.MovementType.vr_1;
                                                                    <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric">
                                                                        <img src="~/Content/assets/Icons/application-received-by-NH.svg"  title="Received by NH" width="25">
                                                                    </a>
                                                                }
                                                                else if (item.Status == "approved")
                                                                {
                                                                    AppType = (int)STP.Common.Enums.MovementType.vr_1;
                                                                    <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                                        <div class="text-normal-bold statusinline">
                                                                            <img src="~/Content/assets/images/completed.svg"  width="25" class="ml-1 mr-2" title="Approved VR1">
                                                                        </div>
                                                                    </a>
                                                                }
                                                                else
                                                                {
                                                                    AppType = (int)STP.Common.Enums.MovementType.vr_1;
                                                                    <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                                        <div class="text-normal-bold statusinline">
                                                                            <img src="~/Content/assets/images/WIP-icon.svg"  width="25" class="ml-1 mr-2" title="Work in progress">
                                                                        </div>
                                                                    </a>
                                                                }
                                                            }
                                                            break;
                                                        case 305002:
                                                            {
                                                                //proposed
                                                                if (ViewBag.MovementListForSO == false)
                                                                {
                                                                    AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                                    if (ViewBag.PlanMovement == true)
                                                                    {
                                                                        if (isExistSoVR1)
                                                                        {
                                                                            <a href="@Url.Action("ListSOMovements", "Application",
                                                                                new {
                                                                                B7vy6imTleYsMr6Nlv7VQ =
                                                                                STP.Web.Helpers.EncryptionUtility.Encrypt("revisionId=" + item.MovementRevisionId +
				                                                                                  "&movementId=" + movementId +
				                                                                                  "&versionId=" + item.MovementVersionId +
				                                                                                  "&hauliermnemonic=" + item.HaulierMnemonic +
				                                                                                  "&esdalref=" + item.ProjectESDALReference +
				                                                                                  "&revisionno=" + item.ApplicationRevisionNo +
				                                                                                  "&versionno=" + item.MovementVersionNumber +
				                                                                                  "&apprevid=" + item.ApplicationRevisionId +
				                                                                                  "&projecid=" + item.ProjectId +
				                                                                                  "&VR1Applciation=true" +
				                                                                                  "&pageflag=2" +
				                                                                                  "&isNotifyFlag=1" +
				                                                                                  "&Ishistoric=" + item.IsHistoric)
                                                                                })" , style="text-decoration:none;" title="Notification">
                                                                                <div class="text-normal-bold statusinline">
                                                                                    <img src="~/Content/assets/images/Group 1267.svg" width="25" class=" ml-1 mr-1" title="Proposed">
                                                                                    <img src="/Content/assets/images/Group 1270.svg" width="15" class="mr-1" title="Proposed" style="margin-left: -16px;margin-top: -20px;">
                                                                                </div>
                                                                            </a>
                                                                        }
                                                                        else
                                                                        {
                                                                            <a href="#" class="loadappvehicleroute" data-movementversionid=0 data-movementtype="@item.MovementType" data-contentrefno="@item.ContentRefNum" data-applicationrevisionid="@item.ApplicationRevisionId" style="text-decoration:none;">
                                                                                <div class="text-normal-bold statusinline">
                                                                                    <img src="~/Content/assets/images/Group 1267.svg" width="25" class=" ml-1 mr-1" title="Proposed">
                                                                                    <img src="/Content/assets/images/Group 1270.svg" width="15" class="mr-1" title="Proposed" style="margin-left: -16px;margin-top: -20px;">
                                                                                </div>
                                                                            </a>
                                                                        }
                                                                    }
                                                                    else
                                                                    {
                                                                        <a href="#" id="redirectntfctn" data-revisionid="@item.MovementRevisionId" data-movementid="movementId" data-versionid="@item.MovementVersionId" data-hauliermnemonic="@item.HaulierMnemonic" data-esdalreference="@item.ProjectESDALReference" data-revisionnumber="@item.ApplicationRevisionNo" data-versionnumber="@item.MovementVersionNumber" data-apprevisionid="@item.ApplicationRevisionId" data-projectid="@item.ProjectId" data-pageflag="2" style="text-decoration:none;">
                                                                            <div class="text-normal-bold statusinline">
                                                                                <img src="~/Content/assets/images/Group 1267.svg" width="25" class=" ml-1 mr-1" title="Proposed">
                                                                                <img src="/Content/assets/images/Group 1270.svg" width="15" class="mr-1" title="Proposed" style="margin-left: -16px;margin-top: -20px;">
                                                                            </div>
                                                                        </a>
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                    if (moveTypeToDisplay.ToLower() == "so" && item.IsWithdrawn != 1)
                                                                    {
                                                                        <a href="#" class="routepartlist-proposed" data-movementversionid="@item.MovementVersionId" data-versionstatus="@item.VersionStatus">
                                                                            <img src="~/Content/assets/images/pending.svg" title="Proposed" width="25">
                                                                            <span class="icon_status icon_status_proposedroute " title="Proposed"></span>
                                                                        </a>
                                                                    }
                                                                }
                                                                if (item.IsWithdrawn == 1)
                                                                {
                                                                    AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                                    <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                                        <div class="text-normal-bold statusinline">
                                                                            <img src="~/Content/assets/images/withdrawn.svg" width="25" class="ml-1 mr-2" title="Withdrawn">
                                                                        </div>
                                                                    </a>
                                                                }
                                                            }
                                                            break;
                                                        case 305003:
                                                            {
                                                                //re-proposed
                                                                if (ViewBag.MovementListForSO == false)
                                                                {
                                                                    if (isExistSoVR1)
                                                                    {
                                                                        <a href="@Url.Action("ListSOMovements", "Application",
                                                                                new {
                                                                                B7vy6imTleYsMr6Nlv7VQ =
                                                                                STP.Web.Helpers.EncryptionUtility.Encrypt("revisionId=" + item.MovementRevisionId +
				                                                                                  "&movementId=" + movementId +
				                                                                                  "&versionId=" + item.MovementVersionId +
				                                                                                  "&hauliermnemonic=" + item.HaulierMnemonic +
				                                                                                  "&esdalref=" + item.ProjectESDALReference +
				                                                                                  "&revisionno=" + item.ApplicationRevisionNo +
				                                                                                  "&versionno=" + item.MovementVersionNumber +
				                                                                                  "&apprevid=" + item.ApplicationRevisionId +
				                                                                                  "&projecid=" + item.ProjectId +
				                                                                                  "&VR1Applciation=true" +
				                                                                                  "&pageflag=2" +
				                                                                                  "&isNotifyFlag=1" +
				                                                                                  "&Ishistoric=" + item.IsHistoric)
                                                                                })" , style="text-decoration:none;" title="Notification">
                                                                            <div class="text-normal-bold statusinline">
                                                                                <img src="~/Content/assets/images/Group 1267.svg" width="25" class=" ml-1 mr-1" title="Re Proposed">
                                                                                <img src="/Content/assets/images/Group 1270.svg" width="15" class="mr-1" title="Re Proposed" style="margin-left: -16px;margin-top: -20px;">
                                                                            </div>
                                                                        </a>
                                                                    }
                                                                    else
                                                                    {
                                                                        AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                                        <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                                            <div class="text-normal-bold statusinline">
                                                                                <img src="~/Content/assets/images/Group 1267.svg" width="25" class=" ml-1 mr-1" title="Re Proposed">
                                                                                <img src="/Content/assets/images/Group 1270.svg" width="15" class="mr-1" title="Re Proposed" style="margin-left: -16px;margin-top: -20px;">
                                                                            </div>
                                                                        </a>
                                                                    }

                                                                }
                                                                else
                                                                {
                                                                    if (moveTypeToDisplay.ToLower() == "so")
                                                                    {
                                                                        <a href="#" data-movementversionid="@item.MovementVersionId" data-versionstatus="@item.VersionStatus" class="text-decoration-link routepartlist-proposed">
                                                                            <span class="icon_status icon_status_reproposed " title="Re Proposed"></span>
                                                                        </a>
                                                                    }
                                                                }
                                                                if (item.IsWithdrawn == 1)
                                                                {
                                                                    AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                                    <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                                        <div class="text-normal-bold statusinline">
                                                                            <img src="~/Content/assets/images/withdrawn.svg" width="25" class="ml-1 mr-2" title="Withdrawn">
                                                                        </div>
                                                                    </a>
                                                                }
                                                            }
                                                            break;
                                                        case 305004:
                                                            {
                                                                //agreed
                                                                if (ViewBag.MovementListForSO == false)
                                                                {
                                                                    if (isExistSoVR1)
                                                                    {
                                                                        <a href="@Url.Action("ListSOMovements", "Application",
                                                                                        new
                                                                                        {
                                                                                            B7vy6imTleYsMr6Nlv7VQ =
                                                                                            STP.Web.Helpers.EncryptionUtility.Encrypt("revisionId=" + item.MovementRevisionId +
                                                                                                          "&movementId=" + movementId +
                                                                                                          "&versionId=" + item.MovementVersionId +
                                                                                                          "&hauliermnemonic=" + item.HaulierMnemonic +
                                                                                                          "&esdalref=" + item.ProjectESDALReference +
                                                                                                          "&revisionno=" + item.ApplicationRevisionNo +
                                                                                                          "&versionno=" + item.MovementVersionNumber +
                                                                                                          "&apprevid=" + item.ApplicationRevisionId +
                                                                                                          "&projecid=" + item.ProjectId +
                                                                                                          "&VR1Applciation=true" +
                                                                                                          "&pageflag=2" +
                                                                                                          "&isNotifyFlag=1" +
                                                                                                          "&Ishistoric=" + item.IsHistoric)
                                                                                        })" , style="text-decoration:none;" title="Notification">
                                                                            <div class="text-normal-bold statusinline">
                                                                                <img src="~/Content/assets/images/Group 1267.svg" width="25" class=" ml-1 mr-1" title="Agreed">
                                                                                <img src="~/Content/assets/images/Group 1269.svg" width="15" class="mr-1" style="margin-left: -16px;margin-top: -20px;" title="Agreed">
                                                                            </div>
                                                                        </a>
                                                                    }
                                                                    else
                                                                    {
                                                                        AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                                        <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                                            <div class="text-normal-bold statusinline">
                                                                                <img src="~/Content/assets/images/Group 1267.svg" width="25" class=" ml-1 mr-1" title="Agreed">
                                                                                <img src="~/Content/assets/images/Group 1269.svg" width="15" class="mr-1"
                                                                                     style="margin-left: -16px;margin-top: -20px;" title="Agreed">
                                                                            </div>
                                                                        </a>
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                    if (moveTypeToDisplay.ToLower() == "so")
                                                                    {
                                                                        if (ViewBag.IsRoutePrevMoveOpion == true)
                                                                        {
                                                                            <a href="#" data-vanalysisid=0 data-vprj-status="@item.Status" data-vhauliermnemonic="@item.HaulierMnemonic" data-vesdalref="@item.ProjectESDALReference" data-vprojectid="@item.ProjectId" class="text-decoration-link selectcurrentmovementsroute">
                                                                                <span class="icon_status icon_status_agreed " title="Agreed"></span>
                                                                            </a>
                                                                        }
                                                                        else if (ViewBag.IsVehiclePrevMoveOpion == true)
                                                                        {
                                                                            <a href="#" data-vanalysisid=0 data-vprj-Status="@item.Status" data-vhauliermnemonic="@item.HaulierMnemonic" data-vesdalref="@item.ProjectESDALReference" data-vprojectid="@item.ProjectId" class="text-decoration-link selectprevitmovementsvehicle">
                                                                                <span class="icon_status icon_status_agreed " title="Agreed"></span>
                                                                            </a>
                                                                        }
                                                                        else
                                                                        {
                                                                            <a href="#" data-movementversionid="@item.MovementVersionId" data-VersionStatus="@item.VersionStatus" class="text-decoration-link routepartlist-proposed">
                                                                                <span class="icon_status icon_status_agreed " title="Agreed"></span>
                                                                            </a>
                                                                        }
                                                                    }
                                                                }
                                                                if (item.IsWithdrawn == 1)
                                                                {
                                                                    AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                                    <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                                        <div class="text-normal-bold statusinline">
                                                                            <img src="~/Content/assets/images/withdrawn.svg" width="25" class="ml-1 mr-2" title="Withdrawn">
                                                                        </div>
                                                                    </a>
                                                                }
                                                                if (item.IsNotified == 1)
                                                                {
                                                                    <a href="@Url.Action("ListSOMovements", "Application",
                                                                        new {
                                                                        B7vy6imTleYsMr6Nlv7VQ =
                                                                        STP.Web.Helpers.EncryptionUtility.Encrypt("revisionId=" + item.MovementRevisionId +
				                                                                          "&movementId=" + movementId +
				                                                                          "&versionId=" + item.MovementVersionId +
				                                                                          "&hauliermnemonic=" + item.HaulierMnemonic +
				                                                                          "&esdalref=" + item.ProjectESDALReference +
				                                                                          "&revisionno=" + item.ApplicationRevisionNo +
				                                                                          "&versionno=" + item.MovementVersionNumber +
				                                                                          "&apprevid=" + item.ApplicationRevisionId +
				                                                                          "&projecid=" + item.ProjectId +
				                                                                          "&VR1Applciation=true" +
				                                                                          "&pageflag=2" +
				                                                                          "&isNotifyFlag=1" +
				                                                                          "&Ishistoric=" + item.IsHistoric)
                                                                        })" , style="text-decoration:none;" title="Notification">
                                                                        <div class="text-normal-bold statusinline">
                                                                            @*<img src="~/Content/assets/images/completed.svg" width="25" class="ml-1 mr-2" title="Notification">*@
                                                                        </div>
                                                                    </a>
                                                                }
                                                                if (item.IsNotified == 1)
                                                                {
                                                                    <img src="~/Content/assets/Icons/notified.svg" title="N-notified" width="20" style="margin-top: -11px;">
                                                                }
                                                            }
                                                            break;
                                                        case 305005:
                                                            {
                                                                //agreed revised
                                                                if (ViewBag.MovementListForSO == false)
                                                                {
                                                                    if (isExistSoVR1)
                                                                    {
                                                                        <a href="@Url.Action("ListSOMovements", "Application",
                                                                                        new
                                                                                        {
                                                                                            B7vy6imTleYsMr6Nlv7VQ =
                                                                                            STP.Web.Helpers.EncryptionUtility.Encrypt("revisionId=" + item.MovementRevisionId +
                                                                                                          "&movementId=" + movementId +
                                                                                                          "&versionId=" + item.MovementVersionId +
                                                                                                          "&hauliermnemonic=" + item.HaulierMnemonic +
                                                                                                          "&esdalref=" + item.ProjectESDALReference +
                                                                                                          "&revisionno=" + item.ApplicationRevisionNo +
                                                                                                          "&versionno=" + item.MovementVersionNumber +
                                                                                                          "&apprevid=" + item.ApplicationRevisionId +
                                                                                                          "&projecid=" + item.ProjectId +
                                                                                                          "&VR1Applciation=true" +
                                                                                                          "&pageflag=2" +
                                                                                                          "&isNotifyFlag=1" +
                                                                                                          "&Ishistoric=" + item.IsHistoric)
                                                                                        })" , style="text-decoration:none;" title="Notification">
                                                                            <div class="text-normal-bold statusinline">
                                                                                <img src="~/Content/assets/images/Group 1267.svg" width="25" class=" ml-1 mr-1" title="Agreed revised">
                                                                                <img src="~/Content/assets/images/Group 1269.svg" width="15" class="mr-1" style="margin-left: -16px;margin-top: -20px;" title="Agreed revised">
                                                                            </div>
                                                                        </a>
                                                                    }
                                                                    else
                                                                    {
                                                                        AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                                        <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                                            <div class="text-normal-bold statusinline">
                                                                                <img src="~/Content/assets/images/Group 1267.svg" width="25" class=" ml-1 mr-1" title="Agreed revised">
                                                                                <img src="~/Content/assets/images/Group 1269.svg" width="15" class="mr-1"
                                                                                     style="margin-left: -16px;margin-top: -20px;" title="Agreed revised">
                                                                            </div>
                                                                        </a>
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                    if (moveTypeToDisplay.ToLower() == "so")
                                                                    {
                                                                        <a data-movementversionid="@item.MovementVersionId" data-VersionStatus="@item.VersionStatus" class="text-decoration-link routepartlist-proposed">
                                                                            <span class="icon_status icon_status_agreedrevised " title="Agreed revised"></span>
                                                                        </a>
                                                                    }
                                                                }
                                                                if (item.IsNotified == 1)
                                                                {
                                                                    <a href="@Url.Action("ListSOMovements", "Application",
                                                                        new {
                                                                        B7vy6imTleYsMr6Nlv7VQ =
                                                                        STP.Web.Helpers.EncryptionUtility.Encrypt("revisionId=" + item.MovementRevisionId +
				                                                                          "&movementId=" + movementId +
				                                                                          "&versionId=" + item.MovementVersionId +
				                                                                          "&hauliermnemonic=" + item.HaulierMnemonic +
				                                                                          "&esdalref=" + item.ProjectESDALReference +
				                                                                          "&revisionno=" + item.ApplicationRevisionNo +
				                                                                          "&versionno=" + item.MovementVersionNumber +
				                                                                          "&apprevid=" + item.ApplicationRevisionId +
				                                                                          "&projecid=" + item.ProjectId +
				                                                                          "&VR1Applciation=true" +
				                                                                          "&pageflag=2" +
				                                                                          "&isNotifyFlag=1" +
				                                                                          "&Ishistoric=" + item.IsHistoric)
                                                                        })" , style="text-decoration:none;" title="Notification">
                                                                        <div class="text-normal-bold statusinline">
                                                                            @*<img src="~/Content/assets/images/completed.svg" width="25" class="ml-1 mr-2" title="Notification">*@
                                                                        </div>
                                                                    </a>
                                                                }
                                                                //  }
                                                            }
                                                            break;
                                                        case 305006:
                                                            {
                                                                //agreed recleared
                                                                if (ViewBag.MovementListForSO == false)
                                                                {
                                                                    if (isExistSoVR1)
                                                                    {
                                                                        <a href="@Url.Action("ListSOMovements", "Application",
                                                                                        new
                                                                                        {
                                                                                            B7vy6imTleYsMr6Nlv7VQ =
                                                                                            STP.Web.Helpers.EncryptionUtility.Encrypt("revisionId=" + item.MovementRevisionId +
                                                                                                          "&movementId=" + movementId +
                                                                                                          "&versionId=" + item.MovementVersionId +
                                                                                                          "&hauliermnemonic=" + item.HaulierMnemonic +
                                                                                                          "&esdalref=" + item.ProjectESDALReference +
                                                                                                          "&revisionno=" + item.ApplicationRevisionNo +
                                                                                                          "&versionno=" + item.MovementVersionNumber +
                                                                                                          "&apprevid=" + item.ApplicationRevisionId +
                                                                                                          "&projecid=" + item.ProjectId +
                                                                                                          "&VR1Applciation=true" +
                                                                                                          "&pageflag=2" +
                                                                                                          "&isNotifyFlag=1" +
                                                                                                          "&Ishistoric=" + item.IsHistoric)
                                                                                        })" , style="text-decoration:none;" title="Notification">
                                                                            <div class="text-normal-bold statusinline">
                                                                                <img src="~/Content/assets/images/Group 1267.svg" width="25" class=" ml-1 mr-1" title="Agreed recleared">
                                                                                <img src="~/Content/assets/images/Group 1269.svg" width="15" class="mr-1" style="margin-left: -16px;margin-top: -20px;" title="Agreed recleared">
                                                                            </div>
                                                                        </a>
                                                                    }
                                                                    else
                                                                    {
                                                                        AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                                        <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                                            <div class="text-normal-bold statusinline">
                                                                                <img src="~/Content/assets/images/Group 1267.svg" width="25" class=" ml-1 mr-1" title="Agreed recleared">
                                                                                <img src="~/Content/assets/images/Group 1269.svg" width="15" class="mr-1"
                                                                                     style="margin-left: -16px;margin-top: -20px;" title="Agreed recleared">
                                                                            </div>
                                                                        </a>
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                    if (moveTypeToDisplay.ToLower() == "so")
                                                                    {
                                                                        <a href="#" data-movementversionid="@item.MovementVersionId" data-VersionStatus="@item.VersionStatus" class="text-decoration-link routepartlist-proposed">
                                                                            <span class="icon_status icon_status_agreed " title="Agreed recleared"></span>
                                                                        </a>
                                                                    }
                                                                }
                                                                if (item.IsNotified == 1)
                                                                {
                                                                    <a href="@Url.Action("ListSOMovements", "Application",
                                                                        new {
                                                                        B7vy6imTleYsMr6Nlv7VQ =
                                                                        STP.Web.Helpers.EncryptionUtility.Encrypt("revisionId=" + item.MovementRevisionId +
				                                                                          "&movementId=" + movementId +
				                                                                          "&versionId=" + item.MovementVersionId +
				                                                                          "&hauliermnemonic=" + item.HaulierMnemonic +
				                                                                          "&esdalref=" + item.ProjectESDALReference +
				                                                                          "&revisionno=" + item.ApplicationRevisionNo +
				                                                                          "&versionno=" + item.MovementVersionNumber +
				                                                                          "&apprevid=" + item.ApplicationRevisionId +
				                                                                          "&projecid=" + item.ProjectId +
				                                                                          "&VR1Applciation=true" +
				                                                                          "&pageflag=2" +
				                                                                          "&isNotifyFlag=1" +
				                                                                          "&Ishistoric=" + item.IsHistoric)
                                                                        })" , style="text-decoration:none;" title="Notification">
                                                                        <div class="text-normal-bold statusinline">
                                                                            @*<img src="~/Content/assets/images/completed.svg" width="25" class="ml-1 mr-2" title="Notification7">*@
                                                                        </div>
                                                                    </a>
                                                                }
                                                                if (item.IsNotified == 1)
                                                                {
                                                                    <img src="~/Content/assets/Icons/notified.svg" title="N-notified" width="20" style="margin-top: -11px;">
                                                                }
                                                            }
                                                            break;
                                                        case 305007:
                                                            {
                                                                //withdrawn
                                                                AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                                <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                                    <div class="text-normal-bold statusinline">
                                                                        <img src="~/Content/assets/images/withdrawn.svg" width="25" class="ml-1 mr-2" title="Withdrawn">
                                                                    </div>
                                                                </a>
                                                                <span class="icon_status icon_status_soahistoric" title="Historic" id="spnhistoric1"></span>
                                                            }
                                                            break;
                                                        case 305008:
                                                            {
                                                                if (item.Status == "submitted")
                                                                {
                                                                    AppType = (int)STP.Common.Enums.MovementType.vr_1;
                                                                    <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                                        <div class="text-normal-bold statusinline">
                                                                            <img src="~/Content/assets/images/up-arrow.svg" title="submitted" width="25" class="ml-1 mr-2">
                                                                        </div>
                                                                    </a>
                                                                }
                                                                else if (item.Status == "declined")
                                                                {
                                                                    AppType = (int)STP.Common.Enums.MovementType.vr_1;
                                                                    <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                                        <img src="~/Content/assets/Icons/declined.svg" title="Declined" width="25">
                                                                    </a>
                                                                }
                                                            }
                                                            break;
                                                        case 305013:
                                                            {
                                                                //Planned
                                                                if (item.Status == "withdrawn")
                                                                {
                                                                    AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                                    <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                                        <div class="text-normal-bold statusinline">
                                                                            <img src="~/Content/assets/images/withdrawn.svg" width="25" class="ml-1 mr-2" title="Withdrawn">
                                                                        </div>
                                                                    </a>
                                                                }
                                                                else if (item.Status == "submitted")
                                                                {
                                                                    if (ViewBag.VR1Notify == true)
                                                                    {
                                                                        <a href="@Url.Action("ListSOMovements", "Application",
                                                                            new {
                                                                            B7vy6imTleYsMr6Nlv7VQ =
                                                                            STP.Web.Helpers.EncryptionUtility.Encrypt("revisionId=" + item.MovementRevisionId +
				                                                                              "&movementId=" + movementId +
				                                                                              "&versionId=" + item.MovementVersionId +
				                                                                              "&hauliermnemonic=" + item.HaulierMnemonic +
				                                                                              "&esdalref=" + item.ProjectESDALReference +
				                                                                              "&revisionno=" + item.ApplicationRevisionNo +
				                                                                              "&versionno=" + item.MovementVersionNumber +
				                                                                              "&apprevid=" + item.ApplicationRevisionId +
				                                                                              "&projecid=" + item.ProjectId +
				                                                                              "&VR1Applciation=true" +
				                                                                              "&pageflag=1" +
				                                                                              "&VR1Notify=true" +
				                                                                              "&Ishistoric=" + item.IsHistoric)
                                                                            })" , style="text-decoration:none;">
                                                                            <div class="text-normal-bold statusinline">
                                                                                <img src="~/Content/assets/images/up-arrow.svg" title="submitted" width="25" class="ml-1 mr-2">
                                                                            </div>
                                                                        </a>
                                                                    }
                                                                    else
                                                                    {
                                                                        AppType = (int)STP.Common.Enums.MovementType.vr_1;
                                                                        <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                                            <div class="text-normal-bold statusinline">
                                                                                <img src="~/Content/assets/images/up-arrow.svg" title="submitted" width="25" class="ml-1 mr-2">
                                                                            </div>
                                                                        </a>
                                                                    }
                                                                }
                                                                else if (item.Status == "received by ha")
                                                                {
                                                                    AppType = (int)STP.Common.Enums.MovementType.vr_1;
                                                                    <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric">
                                                                        <div style="margin-top: 3px;">
                                                                            <img src="~/Content/assets/images/Group 1266.svg" title="Received by NH" width="28" class="ml-1 mr-1 float-left">
                                                                            <img src="~/Content/assets/images/Group 1269.svg" title="Received by NH" width="15" class="mr-1 float-left"
                                                                                 style="margin-left: -20px;margin-top: -5px;">
                                                                        </div>
                                                                    </a>
                                                                }
                                                                else
                                                                {
                                                                    AppType = (int)STP.Common.Enums.MovementType.vr_1;
                                                                    <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                                        <div class="text-normal-bold statusinline">
                                                                            <img src="~/Content/assets/images/completed.svg"  width="25" class="ml-1 mr-2" title="Approved VR1">
                                                                        </div>
                                                                    </a>

                                                                    if (item.IsNotified == 1)
                                                                    {
                                                                        <a href="@Url.Action("ListSOMovements", "Application",
                                                                            new {
                                                                            B7vy6imTleYsMr6Nlv7VQ =
                                                                            STP.Web.Helpers.EncryptionUtility.Encrypt("revisionId=" + item.MovementRevisionId +
				                                                                              "&movementId=" + movementId +
				                                                                              "&versionId=" + item.MovementVersionId +
				                                                                              "&hauliermnemonic=" + item.HaulierMnemonic +
				                                                                              "&esdalref=" + item.ProjectESDALReference +
				                                                                              "&revisionno=" + item.ApplicationRevisionNo +
				                                                                              "&versionno=" + item.MovementVersionNumber +
				                                                                              "&apprevid=" + item.ApplicationRevisionId +
				                                                                              "&projecid=" + item.ProjectId +
				                                                                              "&VR1Applciation=true" +
				                                                                              "&pageflag=1" +
				                                                                              "&isNotifyFlag=1" +
				                                                                              "&Ishistoric=" + item.IsHistoric)
                                                                            })" title="Notification" style="text-decoration:none;">
                                                                            <div class="text-normal-bold statusinline">
                                                                                @*<img src="~/Content/assets/images/completed.svg" width="25" class="ml-1 mr-2" title="Notification8">*@
                                                                            </div>
                                                                        </a>
                                                                    }
                                                                }
                                                            }
                                                            break;
                                                        case 305014:
                                                            {
                                                                //span approved
                                                                if (isExistSoVR1)
                                                                {
                                                                    <a href="@Url.Action("ListSOMovements", "Application",
                                                                                    new
                                                                                    {
                                                                                        B7vy6imTleYsMr6Nlv7VQ =
                                                                                        STP.Web.Helpers.EncryptionUtility.Encrypt("revisionId=" + item.MovementRevisionId +
                                                                                                      "&movementId=" + movementId +
                                                                                                      "&versionId=" + item.MovementVersionId +
                                                                                                      "&hauliermnemonic=" + item.HaulierMnemonic +
                                                                                                      "&esdalref=" + item.ProjectESDALReference +
                                                                                                      "&revisionno=" + item.ApplicationRevisionNo +
                                                                                                      "&versionno=" + item.MovementVersionNumber +
                                                                                                      "&apprevid=" + item.ApplicationRevisionId +
                                                                                                      "&projecid=" + item.ProjectId +
                                                                                                      "&VR1Applciation=true" +
                                                                                                      "&pageflag=2" +
                                                                                                      "&isNotifyFlag=1" +
                                                                                                      "&Ishistoric=" + item.IsHistoric)
                                                                                    })" , style="text-decoration:none;" title="Notification">
                                                                        <div class="text-normal-bold statusinline">
                                                                            <img src="~/Content/assets/images/completed.svg"  width="25" class="ml-1 mr-2" title="Approved VR1">
                                                                        </div>
                                                                    </a>
                                                                }
                                                                else
                                                                {
                                                                    AppType = (int)STP.Common.Enums.MovementType.vr_1;
                                                                    <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                                        <div class="text-normal-bold statusinline">
                                                                            <img src="~/Content/assets/images/completed.svg"  width="25" class="ml-1 mr-2" title="Approved VR1">
                                                                        </div>
                                                                    </a>
                                                                }

                                                                if (item.IsNotified == 1)
                                                                {
                                                                    <a href="@Url.Action("ListSOMovements", "Application",
                                                                        new {
                                                                        B7vy6imTleYsMr6Nlv7VQ =
                                                                        STP.Web.Helpers.EncryptionUtility.Encrypt("revisionId=" + item.MovementRevisionId +
				                                                                          "&movementId=" + movementId +
				                                                                          "&versionId=" + item.MovementVersionId +
				                                                                          "&hauliermnemonic=" + item.HaulierMnemonic +
				                                                                          "&esdalref=" + item.ProjectESDALReference +
				                                                                          "&revisionno=" + item.ApplicationRevisionNo +
				                                                                          "&versionno=" + item.MovementVersionNumber +
				                                                                          "&apprevid=" + item.ApplicationRevisionId +
				                                                                          "&projecid=" + item.ProjectId +
				                                                                          "&VR1Applciation=true" +
				                                                                          "&pageflag=1" +
				                                                                          "&isNotifyFlag=1" +
				                                                                          "&Ishistoric=" + item.IsHistoric)
                                                                        })" , style="text-decoration:none;" title="Notification">
                                                                        <div class="text-normal-bold statusinline">
                                                                            @*<img src="~/Content/assets/images/completed.svg" width="25" class="ml-1 mr-2" title="Notification9">*@
                                                                        </div>
                                                                    </a>
                                                                }
                                                            }
                                                            break;
                                                    }
                                                }
                                                else if (item.Status == "work in progress")
                                                {
                                                    if (moveTypeToDisplay == "ALL STGO")
                                                    {
                                                        AppType = (int)STP.Common.Enums.MovementType.vr_1;
                                                        <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                            <div class="text-normal-bold statusinline">
                                                                <img src="~/Content/assets/images/WIP-icon.svg" width="25" class="ml-1 mr-2" title="Work in progress">
                                                            </div>
                                                        </a>
                                                    }
                                                    else if (moveTypeToDisplay == "SO")
                                                    {
                                                        AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                        <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                            <div class="text-normal-bold statusinline">
                                                                <img src="~/Content/assets/images/WIP-icon.svg" width="25" class="ml-1 mr-2" title="Work in progress">
                                                            </div>
                                                        </a>
                                                    }
                                                }
                                                else if (item.Status == "withdrawn")
                                                {
                                                    AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                    <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                        <img src="~/Content/assets/images/withdrawn.svg" width="25" class="ml-1 mr-2" title="Withdrawn">
                                                    </a>
                                                }
                                                else if (item.Status == "submitted")
                                                {
                                                    if (ViewBag.VR1Notify == true)
                                                    {
                                                        <a href="@Url.Action("ListSOMovements", "Application",
                                                            new {
                                                            B7vy6imTleYsMr6Nlv7VQ =
                                                            STP.Web.Helpers.EncryptionUtility.Encrypt("revisionId=" + item.MovementRevisionId +
				                                                              "&movementId=" + movementId +
				                                                              "&versionId=" + item.MovementVersionId +
				                                                              "&hauliermnemonic=" + item.HaulierMnemonic +
				                                                              "&esdalref=" + item.ProjectESDALReference +
				                                                              "&revisionno=" + item.ApplicationRevisionNo +
				                                                              "&versionno=" + item.MovementVersionNumber +
				                                                              "&apprevid=" + item.ApplicationRevisionId +
				                                                              "&projecid=" + item.ProjectId +
				                                                              "&VR1Applciation=true" +
				                                                              "&pageflag=1" +
				                                                              "&VR1Notify=true" +
				                                                              "&Ishistoric=" + item.IsHistoric)
                                                            })" , style="text-decoration:none;">
                                                            <div class="text-normal-bold statusinline">
                                                                <img src="~/Content/assets/images/up-arrow.svg" title="submitted" width="25" class="ml-1 mr-2">
                                                            </div>
                                                        </a>
                                                    }
                                                    else
                                                    {
                                                        AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                        <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                            <div class="text-normal-bold statusinline">
                                                                <img src="~/Content/assets/images/up-arrow.svg" width="25" class="ml-1 mr-2" title="submitted">
                                                            </div>
                                                        </a>
                                                    }
                                                    if (item.IsWithdrawn == 1)
                                                    {
                                                        AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                        <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" style="text-decoration:none;">
                                                            <div class="text-normal-bold statusinline">
                                                                <img src="~/Content/assets/images/withdrawn.svg" width="25" class="ml-1 mr-2" title="Withdrawn">
                                                            </div>
                                                        </a>
                                                    }
                                                }
                                                else if (item.Status == "received by ha")
                                                {
                                                    <div class="text-normal-bold statusinline">
                                                        @if (@movementType == "special order" || movementType == "so")
                                                        {
                                                            AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                            <a href="#" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" class="text-decoration-link status-align-flex managemovement">
                                                                <div style="margin-top: 3px;">
                                                                    <img src="~/Content/assets/images/Group 1266.svg" title="Received by NH" width="28" class="ml-1 mr-1 float-left">
                                                                    <img src="~/Content/assets/images/Group 1269.svg" title="Received by NH" width="15" class="mr-1 float-left"
                                                                         style="margin-left: -20px;margin-top: -5px;">
                                                                </div>
                                                            </a>
                                                        }
                                                        else
                                                        {
                                                            AppType = (int)STP.Common.Enums.MovementType.vr_1;
                                                            <a href="#" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" class="text-decoration-link status-align-flex managemovement">
                                                                <div style="margin-top: 3px;">
                                                                    <img src="~/Content/assets/images/Group 1266.svg" title="Received by NH" width="28" class="ml-1 mr-1 float-left">
                                                                    <img src="~/Content/assets/images/Group 1269.svg" title="Received by NH" width="15" class="mr-1 float-left"
                                                                         style="margin-left: -20px;margin-top: -5px;">
                                                                </div>
                                                            </a>
                                                        }
                                                        @if (item.IsWithdrawn == 1)
                                                        {
                                                            AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                            <a href="#" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" class="text-decoration-link status-align managemovement">
                                                                <img src="~/Content/assets/images/withdraw.svg" width="25" class="ml-1 mr-2" title="Withdraw">
                                                            </a>
                                                        }
                                                    </div>
                                                }
                                                else if (item.Status == "declined")
                                                {
                                                    if (movementType == "stgo ail cat 1" || movementType == "stgo cat 1 - vr1" || movementType == "stgo cat 2 - vr1" || movementType == "stgo cat 3 - vr1" || movementType == "stgo ail cat 2" || movementType == "stgo ail cat 3")
                                                    {
                                                        AppType = (int)STP.Common.Enums.MovementType.vr_1;
                                                        <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric">
                                                            <img src="~/Content/assets/Icons/declined.svg" title="Declined" width="25">
                                                        </a>
                                                    }
                                                    else if (movementType == "special order" || movementType == "so")
                                                    {
                                                        AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                        <a href="#" class="managemovement" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric">
                                                            <img src="~/Content/assets/Icons/declined.svg" title="Declined" width="25">
                                                        </a>
                                                    }
                                                }
                                            }
                                        </div>
                                    </td>
                                    @*region for status icon end here*@

                                    @if (ViewBag.PlanMovement == false)
                                    {
                                        if (item.NotificationId != 0)
                                        {

                                            if (item.NotificationStatus == 1)
                                            {
                                                switch (item.ColloborationStatus)
                                                {
                                                    case 0:
                                                        <td></td>
                                                        break;
                                                    case 1:
                                                        <td class="text-color1">
                                                            <img src="~/Content/assets/Icons/unopened.svg" width="20" class="mr-1" title="New">
                                                        </td>
                                                        break;

                                                    case 2:
                                                        <td class="text-color1">
                                                            <img src="~/Content/assets/Icons/unopened.svg" width="20" class="mr-1" title="New">
                                                        </td>
                                                        break;

                                                    case 3:
                                                        <td class="text-color1">
                                                            <img src="~/Content/assets/Icons/opened.svg" width="20" class="mr-1" title="Read">
                                                        </td>
                                                        break;
                                                }
                                            }
                                            else
                                            {
                                                if (ViewBag.IsNotify == true)
                                                {
                                                    <td></td>
                                                }
                                                else
                                                {
                                                    switch (item.ColloborationStatus)
                                                    {
                                                        case 0:
                                                            <td></td>
                                                            break;

                                                        case 1:
                                                            <td class="text-color1">
                                                                <img src="~/Content/assets/Icons/unopened.svg" width="20" class="mr-1" title="New">
                                                            </td>
                                                            break;

                                                        case 2:
                                                            <td class="text-color1">
                                                                <img src="~/Content/assets/Icons/unopened.svg" width="20" class="mr-1" title="New">
                                                            </td>
                                                            break;

                                                        case 3:
                                                            <td class="text-color1">
                                                                <img src="~/Content/assets/Icons/opened.svg" width="20" class="mr-1" title="Read">
                                                            </td>
                                                            break;
                                                    }
                                                }
                                            }
                                        }
                                        else if (item.Status == "withdrawn")
                                        {
                                            if (item.ColloborationStatus != 0)
                                            {
                                                <td class="text-color1">
                                                    <img src="~/Content/assets/Icons/opened.svg" width="20" class="mr-1" title="Read">
                                                </td>
                                            }
                                            else
                                            {
                                                <td></td>
                                            }
                                        }
                                        else
                                        {
                                            <td></td>
                                        }

                                    }

                                    @*region for esdal refernce starts here*@
                                    <td class="text-color2 esdal-tbl-td-p">
                                    @{
                                        if ((int)item.NotificationId == 0)
                                        {
                                            if (isExistSoVR1)
                                            {
                                                var isVr1 = true;
                                                if (moveTypeToDisplay.ToLower() == "so")
                                                {
                                                    isVr1 = false;
                                                }
                                                <a href="@Url.Action("ListSOMovements", "Application",
                                                        new {
                                                        B7vy6imTleYsMr6Nlv7VQ =
                                                        STP.Web.Helpers.EncryptionUtility.Encrypt("revisionId=" + item.MovementRevisionId +
                                                            "&movementId=" + movementId +
                                                            "&versionId=" + item.MovementVersionId +
                                                            "&hauliermnemonic=" + item.HaulierMnemonic +
                                                            "&esdalref=" + item.ProjectESDALReference +
                                                            "&revisionno=" + item.ApplicationRevisionNo +
                                                            "&versionno=" + item.MovementVersionNumber +
                                                            "&apprevid=" + item.ApplicationRevisionId +
                                                            "&projecid=" + item.ProjectId +
                                                            "&VR1Applciation=" + isVr1 +
                                                            "&pageflag=1" +
                                                            "&VR1Notify=" + isVr1 +
                                                            "&Ishistoric=" + item.IsHistoric)
                                                            })" class="text-decoration-link">@item.ESDALReference
                                                    </a>
                                            }
                                            else if (ViewBag.MovementListForSO == false && (ViewBag.PlanMovement == false))
                                            {
                                                if (ViewBag.VR1route == true)
                                                {
                                                    <a href="#" class="text-decoration-link routepartlist-vr1route" data-name="@item.ESDALReference" id="aesdal_@item.ApplicationRevisionId" data-applicationrevisionid="@item.ApplicationRevisionId" data-ishistoric="@item.IsHistoric">@item.ESDALReference</a>
                                                }
                                                else if (ViewBag.VR1Notify == true)
                                                {
                                                    
                                                    <a href="@Url.Action("ListSOMovements", "Application",
                                                        new {
                                                        B7vy6imTleYsMr6Nlv7VQ =
                                                        STP.Web.Helpers.EncryptionUtility.Encrypt("revisionId=" + item.MovementRevisionId +
                                                            "&movementId=" + movementId +
                                                            "&versionId=" + item.MovementVersionId +
                                                            "&hauliermnemonic=" + item.HaulierMnemonic +
                                                            "&esdalref=" + item.ProjectESDALReference +
                                                            "&revisionno=" + item.ApplicationRevisionNo +
                                                            "&versionno=" + item.MovementVersionNumber +
                                                            "&apprevid=" + item.ApplicationRevisionId +
                                                            "&projecid=" + item.ProjectId +
                                                            "&VR1Applciation=true" +
                                                            "&pageflag=1" +
                                                            "&VR1Notify=true" +
                                                            "&Ishistoric=" + item.IsHistoric)
                                                            })" class="text-decoration-link">@item.ESDALReference
                                                    </a>
                                                }
                                                else if (moveTypeToDisplay.ToLower() == "so")
                                                {
                                                    if (item.ESDALReference == "0")
                                                    {
                                                        <span></span>
                                                    }
                                                    else
                                                    {
                                                        AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                        <a href="@Url.Action("ListSOMovements", "Application",
                                                            new {
                                                            B7vy6imTleYsMr6Nlv7VQ =
                                                            STP.Web.Helpers.EncryptionUtility.Encrypt("revisionId=" + item.MovementRevisionId +
                                                            "&movementId=" + movementId +
                                                            "&versionId=" + item.MovementVersionId +
                                                            "&hauliermnemonic=" + item.HaulierMnemonic +
                                                            "&esdalref=" + item.ProjectESDALReference +
                                                            "&revisionno=" + item.ApplicationRevisionNo +
                                                            "&versionno=" + item.MovementVersionNumber +
                                                            "&apprevid=" + item.ApplicationRevisionId +
                                                            "&projecid=" + item.ProjectId +
                                                            "&pageflag=2" +
                                                            "&Ishistoric=" + item.IsHistoric)
                                                            })" class="text-decoration-link">@item.ESDALReference
                                                        </a>
                                                     }
                                                }
                                                else
                                                {
                                                    if (item.ESDALReference == "0")
                                                    {
                                                        <span></span>
                                                    }
                                                    else if (ViewBag.VR1Notify == true)
                                                    {
                                                        <a href="@Url.Action("ListSOMovements", "Application",
                                                            new {
                                                                B7vy6imTleYsMr6Nlv7VQ =
                                                                STP.Web.Helpers.EncryptionUtility.Encrypt("revisionId=" + item.MovementRevisionId +
                                                                "&movementId=" + movementId +
                                                                "&versionId=" + item.MovementVersionId +
                                                                "&hauliermnemonic=" + item.HaulierMnemonic +
                                                                "&esdalref=" + item.ProjectESDALReference +
                                                                "&revisionno=" + item.ApplicationRevisionNo +
                                                                "&versionno=" + item.MovementVersionNumber +
                                                                "&apprevid=" + item.ApplicationRevisionId +
                                                                "&projecid=" + item.ProjectId +
                                                                "&VR1Applciation=true" +
                                                                "&pageflag=1" +
                                                                "&VR1Notify=true" +
                                                                "&Ishistoric=" + item.IsHistoric)
                                                                })" class="text-decoration-link">@item.ESDALReference
                                                        </a>
                                                    }
                                                    else
                                                    {
                                                        AppType = (int)STP.Common.Enums.MovementType.vr_1;
                                                        <a href="@Url.Action("ListSOMovements", "Application",
                                                            new {
                                                                B7vy6imTleYsMr6Nlv7VQ =
                                                                STP.Web.Helpers.EncryptionUtility.Encrypt("revisionId=" + item.MovementRevisionId +
                                                                "&movementId=" + movementId +
                                                                "&versionId=" + item.MovementVersionId +
                                                                "&hauliermnemonic=" + item.HaulierMnemonic +
                                                                "&esdalref=" + item.ProjectESDALReference +
                                                                "&revisionno=" + item.ApplicationRevisionNo +
                                                                "&versionno=" + item.MovementVersionNumber +
                                                                "&apprevid=" + item.ApplicationRevisionId +
                                                                "&projecid=" + item.ProjectId +
                                                                "&VR1Applciation=true" +
                                                                "&pageflag=2" +
                                                                "&Ishistoric=" + item.IsHistoric)
                                                            })" class="text-decoration-link">@item.ESDALReference
                                                        </a>
                                                    }
                                                }
                                            }
                                            else
                                            {
                                                // call route part list
                                                if (moveTypeToDisplay.ToLower() == "so")
                                                {
                                                    if (item.ESDALReference == "0")
                                                    {
                                                        <span></span>
                                                    }
                                                    else
                                                    {
                                                        if (ViewBag.IsRoutePrevMoveOpion == true)
                                                        {
                                                            <a href="#" data-name="@item.ESDALReference" id="aesdal_@item.MovementVersionId" data-vanalysisid=0 data-vprj-status="@item.Status" data-vhauliermnemonic="@item.HaulierMnemonic" data-vesdalref="@item.ProjectESDALReference" data-vprojectid="@item.ProjectId" data-ishistoric="@item.IsHistoric" class="text-decoration-link selectcurrentmovementsroute">@item.ESDALReference</a>
                                                        }
                                                        else if (ViewBag.IsVehiclePrevMoveOpion == true)
                                                        {
                                                            <a href="#" data-name="@item.ESDALReference" id="aesdal_@item.MovementVersionId" data-vanalysisid=0 data-vprj-status="@item.Status" data-vhauliermnemonic="@item.HaulierMnemonic" data-vesdalref="@item.ProjectESDALReference" data-vprojectid="@item.ProjectId" data-ishistoric="@item.IsHistoric" class="text-decoration-link selectprevitmovementsvehicle">@item.ESDALReference</a>
                                                        }
                                                        else
                                                        {
                                                            <a href="#" class="text-decoration-link loadappvehicleroute" data-name="@item.ESDALReference" id="aesdal_@item.MovementVersionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@item.MovementType" data-contentrefno="@item.ContentRefNum" data-applicationrevisionid="@item.ApplicationRevisionId" data-ishistoric="@item.IsHistoric">@item.ESDALReference</a>
                                                        }
                                                    }
                                                }
                                                else
                                                {
                                                    if (item.ESDALReference == "0")
                                                    {
                                                        <span></span>
                                                    }
                                                    else
                                                    {
                                                        <a href="#" class="text-decoration-link loadappvehicleroute" data-movementversionid="@item.MovementVersionId" data-movementtype="@item.MovementType" data-contentrefno="@item.ContentRefNum" data-applicationrevisionid="@item.ApplicationRevisionId" data-ishistoric="@item.IsHistoric">@item.ESDALReference</a>
                                                    }
                                                }
                                            }
                                        }
                                        else
                                        {
                                            if (item.NotificationCode == "0")
                                            {
                                                <span></span>
                                            }
                                            else if (ViewBag.IsNotify == true || ViewBag.PlanMovement == true)
                                            {
                                                <a href="#" class="text-decoration-link loadappvehicleroute" data-movementversionid=0 data-movementtype="@item.MovementType" data-contentrefno="@item.ContentRefNum" data-applicationrevisionid="@item.ApplicationRevisionId" data-ishistoric="@item.IsHistoric">@item.NotificationCode</a>
                                            }
                                            else
                                            {
                                                if (item.NotificationStatus == 1)
                                                {
                                                    AppType = (int)STP.Common.Enums.MovementType.notification;
                                                    <a href="#" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="work in progress" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" class="text-decoration-link managemovement">@item.NotificationCode</a>
                                                }
                                                else
                                                {
                                                    <a href="@Url.Action("DisplayNotification", "Notification",
                                                        new {
                                                        B7vy6imTleYsMr6Nlv7VQ =
                                                        STP.Web.Helpers.EncryptionUtility.Encrypt("notificationId=" + item.NotificationId +
                                                        "&notificationCode=" + item.NotificationCode +
                                                        "&Ishistoric=" + item.IsHistoric)
                                                        })" class="text-decoration-link">@item.NotificationCode
                                                    </a>
                                                }
                                            }
                                        }
                                    }
                                </td>
                                    @*region for esdal refernce end here*@

                                    @if (item.NotificationId != 0)
                                    {
                                        <td class="text-color1  esdal-tbl-td-p">
                                            @item.NotificationFromDesc
                                        </td>
                                    }
                                    else
                                    {
                                        <td class="text-color1  esdal-tbl-td-p">
                                            @item.FromDescription
                                        </td>
                                    }

                                    @if (ViewBag.MovementListForSO == false)
                                    {
                                        <td class="text-color1  esdal-tbl-td-p">
                                            @item.FromDate
                                        </td>
                                    }

                                    @if (item.NotificationId != 0)
                                    {
                                        <td class="text-color1  esdal-tbl-td-p">
                                            @item.NotificationToDesc
                                        </td>
                                    }
                                    else
                                    {
                                        <td class="text-color1  esdal-tbl-td-p">
                                            @item.ToDescription
                                        </td>
                                    }

                                    @if (ViewBag.MovementListForSO == false)
                                    {
                                        <td class="text-color1  esdal-tbl-td-p">
                                            @item.ToDate
                                        </td>
                                    }

                                    @*region for haulier refernce starts here*@
                                    <td class="text-color2  esdal-tbl-td-p">
                                        @{
                                            if ((int)item.NotificationId == 0)
                                            {
                                                if (isExistSoVR1)
                                                {
                                                    var isVr1 = true;
                                                    if (moveTypeToDisplay.ToLower() == "so")
                                                    {
                                                        isVr1 = false;
                                                    }
                                                    <a href="@Url.Action("ListSOMovements", "Application",
                                                            new {
                                                            B7vy6imTleYsMr6Nlv7VQ =
                                                            STP.Web.Helpers.EncryptionUtility.Encrypt("revisionId=" + item.MovementRevisionId +
                                                                "&movementId=" + movementId +
                                                                "&versionId=" + item.MovementVersionId +
                                                                "&hauliermnemonic=" + item.HaulierMnemonic +
                                                                "&esdalref=" + item.ProjectESDALReference +
                                                                "&revisionno=" + item.ApplicationRevisionNo +
                                                                "&versionno=" + item.MovementVersionNumber +
                                                                "&apprevid=" + item.ApplicationRevisionId +
                                                                "&projecid=" + item.ProjectId +
                                                                "&VR1Applciation=" + isVr1 +
                                                                "&pageflag=1" +
                                                                "&VR1Notify=" + isVr1 +
                                                                "&Ishistoric=" + item.IsHistoric)
                                                                })" class="text-decoration-link">@item.ESDALReference
                                                    </a>
                                                }
                                                else if (ViewBag.MovementListForSO == false)
                                                {
                                                    if (ViewBag.VR1route == true || ViewBag.IsNotify == true)
                                                    {
                                                        <a href="#" data-name="@item.ESDALReference" id="aesdal_@item.ApplicationRevisionId" data-ApplicationRevisionId="@item.ApplicationRevisionId" data-ishistoric="@item.IsHistoric" class="text-decoration-link routepartlist-vr1route">@item.MyReference</a>
                                                    }
                                                    else if (ViewBag.VR1Notify == true)
                                                    {
                                                        <a href="@Url.Action("ListSOMovements", "Application",
                                                            new {
                                                                    B7vy6imTleYsMr6Nlv7VQ =
                                                                    STP.Web.Helpers.EncryptionUtility.Encrypt("revisionId=" + item.MovementRevisionId +
                                                                    "&movementId=" + movementId +
                                                                    "&versionId=" + item.MovementVersionId +
                                                                    "&hauliermnemonic=" + item.HaulierMnemonic +
                                                                    "&esdalref=" + item.ProjectESDALReference +
                                                                    "&revisionno=" + item.ApplicationRevisionNo +
                                                                    "&versionno=" + item.MovementVersionNumber +
                                                                    "&apprevid=" + item.ApplicationRevisionId +
                                                                    "&projecid=" + item.ProjectId +
                                                                    "&VR1Applciation=true" +
                                                                    "&pageflag=1" +
                                                                    "&VR1Notify=true" +
                                                                    "&Ishistoric=" + item.IsHistoric)
                                                                 })" class="text-decoration-link">@item.MyReference</a>
                                                    }
                                                    else if (moveTypeToDisplay.ToLower() == "so")
                                                    {
                                                        AppType = (int)STP.Common.Enums.MovementType.special_order;
                                                        <a href="#" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" class="text-decoration-link managemovement">@item.MyReference</a>
                                                    }
                                                    else
                                                    {
                                                        AppType = (int)STP.Common.Enums.MovementType.vr_1;
                                                        <a href="#" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="@item.Status" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" class="text-decoration-link managemovement">@item.MyReference</a>
                                                    }
                                                }
                                                else
                                                {
                                                    // call route part list
                                                    if (moveTypeToDisplay.ToLower() == "so")
                                                    {
                                                        if (ViewBag.IsRoutePrevMoveOpion == true)
                                                        { 
                                                            <a href="#" data-name="@item.ESDALReference" id="aesdal_@item.MovementVersionId" data-vanalysisid=0 data-vprj-status="@item.Status" data-vhauliermnemonic="@item.HaulierMnemonic" data-vesdalref="@item.ProjectESDALReference" data-vprojectid="@item.ProjectId" data-ishistoric="@item.IsHistoric" class="text-decoration-link selectcurrentmovementsroute">@item.MyReference</a>
                                                        }
                                                        else if (ViewBag.IsVehiclePrevMoveOpion == true)
                                                        { 
                                                            <a href="#" data-name="@item.ESDALReference" id="aesdal_@item.MovementVersionId" data-vanalysisid=0 data-vprj-status="@item.Status" data-vhauliermnemonic="@item.HaulierMnemonic" data-vesdalref="@item.ProjectESDALReference" data-vprojectid="@item.ProjectId" data-ishistoric="@item.IsHistoric" class="text-decoration-link selectprevitmovementsvehicle">@item.MyReference</a>
                                                        }
                                                        else
                                                        {
                                                            <a href="#" data-name="@item.ESDALReference" id="aesdal_@item.MovementVersionId" data-movementversionid="@item.MovementVersionId" data-VersionStatus="@item.VersionStatus" data-ishistoric="@item.IsHistoric" class="text-decoration-link routepartlist-proposed">@item.MyReference</a>
                                                        }
                                                    }
                                                    else
                                                    {
                                                        <a href="#" data-ApplicationRevisionId="@item.ApplicationRevisionId" data-ishistoric="@item.IsHistoric" class="text-decoration-link routepartlist-vr1route">@item.MyReference</a>
                                                    }
                                                }
                                            }
                                            else
                                            {
                                                if (ViewBag.VR1route == false)
                                                {
                                                    if (item.NotificationStatus == 1)
                                                    {
                                                        AppType = (int)STP.Common.Enums.MovementType.notification;
                                                        <a href="#" data-movementrevisionid="@item.MovementRevisionId" data-movementversionid="@item.MovementVersionId" data-movementtype="@AppType" data-vehicletype="@movementId" data-movementstatus="work in progress" data-hauliermnemonic="@item.HaulierMnemonic" data-projectesdalreference="@item.ProjectESDALReference" data-applicationrevisionno="@item.ApplicationRevisionNo" data-movementversionnumber="@item.MovementVersionNumber" data-projectid="@item.ProjectId" data-notificationid="@item.NotificationId" data-contentreference="@item.ContentRefNum" data-movementvehicletype="@item.MovementType" data-ishistoric="@item.IsHistoric" class="text-decoration-link managemovement">@item.NotificationMyReference</a>
                                                    }
                                                    else if (ViewBag.IsNotify == true)
                                                    {
                                                        <a href="#" data-notificationid="@item.NotificationId" data-ishistoric="@item.IsHistoric" class="text-decoration-link loadnotificationroute">@item.NotificationMyReference</a>
                                                    }
                                                    else if (ViewBag.PlanMovement == true)
                                                    {
                                                        <a href="#" class="text-decoration-link loadappvehicleroute" data-movementversionid="0" data-movementtype="@item.MovementType" data-contentrefno="@item.ContentRefNum" data-applicationrevisionid="@item.ApplicationRevisionId" data-ishistoric="@item.IsHistoric">@item.NotificationMyReference</a>
                                                    }
                                                    else if (item.NotificationStatus == 0)
                                                    {
                                                        <a href="@Url.Action("DisplayNotification", "Notification",
                                                                new {
                                                                    B7vy6imTleYsMr6Nlv7VQ =
                                                                        STP.Web.Helpers.EncryptionUtility.Encrypt("notificationId=" + item.NotificationId +
                                                                                                                    "&notificationCode=" + item.NotificationCode +
                                                                                                                    "&Ishistoric=" + item.IsHistoric)
                                                                })" class="text-decoration-link">@item.NotificationMyReference</a>
                                                            }
                                                        }
                                                else
                                                {
                                                    using (Ajax.BeginForm("VROneRouteParts", "Application", new { versionId = item.MovementVersionId }, new AjaxOptions { OnBegin = "startAnimation", OnComplete = "stopAnimation", OnSuccess = "LoadVROneRoute" }))
                                                    {
                                                        <a href="#" onclick="$(this).closest('form').submit(); return false;" class="text-decoration-link">@item.MyReference</a>
                                                    }
                                                }

                                            }
                                        }
                                    </td>
                                    @*region for haulier refernce ends here*@

                                    @if (ViewBag.PlanMovement == false)
                                    {
                                        <td>
                                            @if (item.IsHistoric == 0)
                                            {
                                                if ((item.MaximumVersion == 1) && (item.ApplicationRevisionId != 0) && (item.NotificationId == 0) && (item.IsWithdrawn != 1) && (item.IsDeclined != 1) && ((item.Status.ToLower() == "submitted") || (item.Status.ToLower() == "received by ha") || (item.Status.ToLower() == "approved") || (item.Status.ToLower() == "application distributed") || (item.VersionStatus == 305002) || (item.VersionStatus == 305004) || (item.VersionStatus == 305005) || (item.VersionStatus == 305006)))
                                                {
                                                    <img src="~/Content/assets/Icons/revise.svg" title="Revise" width="25" class="ml-1 cursor reverse" data-moveversionno="@item.MovementVersionNumber" data-enteredbysort="@item.EnteredBySort" data-esdalreference='@item.ESDALReference' data-hauliermnemonic='@item.HaulierMnemonic' data-revisionno="@item.ApplicationRevisionNo" data-esdalno="@item.ProjectESDALReference" data-applicationrevid="@item.ApplicationRevisionId" data-movementtype="@movementType" data-versionid="@item.MovementVersionId">
                                                }
                                                else if (item.NotificationId != 0 && item.NotificationStatus != 1 && item.MaximumVersion == 1 && item.IsDeclined != 1)
                                                {
                                                    <img src="~/Content/assets/images/Group 1067.svg" title="Re-notify" width="25" class="ml-1 cursor renotify" data-previousnotificationcode='@item.NotificationCode' data-notificationid='@item.NotificationId' data-revisionid="@item.MovementRevisionId" data-VersionStatus="@item.VersionStatus">
                                                }
                                            }
                                        </td>
                                        <td colspan="2">
                                            <div class="act-icons pr-3" @*style="float: right;"*@>
                                                @if(item.ApplicationRevisionId != 0 && item.MovementVersionId != 0 && item.NotificationId == 0 && 
                                                    (item.Status.ToLower() == "submitted" || item.Status.ToLower() == "application distributed"))
                                                {
                                                    <span>
                                                        <img src="~/Content/assets/Icons/notify.svg" title="Notify" width="25" class="ml-1 notifyapp"
                                                             data-esdalreference='@item.ESDALReference' data-versionid="@item.MovementVersionId"
                                                             data-applicationrevid="@item.ApplicationRevisionId" data-movementtype="@movementType"
                                                             data-versionstatus="@item.VersionStatus" data-startdate="@item.FromDate"
                                                             data-enddate="@item.ToDate">
                                                    </span>
                                                }
                                                @if (item.ApplicationRevisionId != 0 && item.NotificationId == 0 && item.Status.ToLower() != "work in progress")
                                                {
                                                    if (item.NotificationCode != "" || item.ESDALReference != "")
                                                    {
                                                        var notifcode = item.NotificationCode != "" ? item.NotificationCode : item.ESDALReference;
                                                        <span>
                                                            <img src="~/Content/assets/images/Group 1016.svg" title="Clone" width="25" class="ml-1 clone clone-application" data-esdalreference='@notifcode' data-versionid="@item.MovementVersionId" data-applicationrevid="@item.ApplicationRevisionId" data-movementtype="@movementType" data-historic="@item.IsHistoric">
                                                        </span>
                                                    }
                                                }
                                                else if (item.NotificationId != 0 && item.NotificationStatus != 1 && item.IsDeclined != 1)
                                                {
                                                    <span>
                                                        <img src="~/Content/assets/images/Group 1016.svg" title="Clone" width="25" class="ml-1 clonenotification" data-contentreferencenum='@item.ContentRefNum' data-notifcode='@item.NotificationCode' data-notifid="@item.NotificationId" data-historic="@item.IsHistoric">
                                                    </span>
                                                }
                                                @if (item.Status.ToLower() == "work in progress" && item.ApplicationRevisionId != 0)
                                                {
                                                    <span>
                                                        <img src="~/Content/assets/images/delete-icon.svg" title="Delete" width="20" class="ml-1 deletesoaapplication" data-haulierreference='@item.MyReference' data-applicationrevid="@item.ApplicationRevisionId">
                                                    </span>
                                                }
                                                else if (item.NotificationId != 0 && item.NotificationStatus == 1)
                                                {
                                                    <span>
                                                        <img src="~/Content/assets/images/delete-icon.svg" title="Delete" width="20" class="ml-1 deletenotification" data-haulierreference='@item.MyReference' data-notificationid="@item.NotificationId">
                                                    </span>
                                                }
                                                @if ((item.NotificationId == 0) && (item.ApplicationRevisionId != 0) && (item.IsWithdrawn != 1) && (item.IsDeclined != 1) && ((item.Status.ToLower() == "submitted") || (item.Status.ToLower() == "received by ha") || (item.Status.ToLower() == "approved") || (item.Status.ToLower() == "application distributed") || (item.VersionStatus == 305002) || (item.VersionStatus == 305004) || (item.VersionStatus == 305005) || (item.VersionStatus == 305006)))
                                                {
                                                    <span>
                                                        <img src="~/Content/assets/images/withdraw.svg" title="Withdraw" width="20" class="ml-1 withdrawsoapplication" data-projectid="@item.ProjectId" data-enteredbysort="@item.EnteredBySort" data-esdalreference="@item.ESDALReference" data-applicationrevisionid="@item.ApplicationRevisionId" data-movementtype="@movementType" data-redirectparam=1>
                                                    </span>
                                                }
                                            </div>
                                        </td>
                                    }

                                    @{
                                        recCnt = recCnt + 1;
                                    }
                                </tr>
                            }
                        </tbody>
                    }
                }
            </table>
        </div>
    </div>


    @if (Model.Count > 0)
    {
        <div class="container-fluid m-0">
            <div class="row pagination-container-new haulier-pagination-container">
                <div class="col-lg-3 col-md-3">
                    @if (Model.TotalItemCount > 0)
                    {
                        <div class="text-color2 total-records-number p-0">
                            Total number of records : @Model.TotalItemCount
                        </div>
                    }
                </div>
                @*@if (listCount < @ViewBag.TotalCount)
                    {*@
                @if (listCount < ViewBag.TotalCount)
                {
                    <div class="col-lg-6 col-md-6 text-center">
                        <div class="table-pagination haulierpagination">
                            @Html.PagedListPager(Model, page => Url.Action("MovementList",
                           new
                           {
                               page,
                               sortOrder = sortOrder,
                               sortType = sortType
                               /*B7vy6imTleYsMr6Nlv7VQ =
                                            STP.Web.Helpers.EncryptionUtility.Encrypt("page=" + page + "&sortType=" + sortType + "&sortOrder=" + sortOrder)*/

                           }), new PagedListRenderOptions
                           {
                               DisplayLinkToPreviousPage = PagedListDisplayMode.IfNeeded,
                               DisplayLinkToNextPage = PagedListDisplayMode.IfNeeded,
                               LinkToPreviousPageFormat = "<img src='/Content/assets/images/left-chevlon.svg' width='10'>",
                               LinkToNextPageFormat = "<img src='/Content/assets/images/right-chevlon.svg' width='10'>",
                               DisplayLinkToFirstPage = PagedListDisplayMode.IfNeeded,
                               DisplayLinkToLastPage = PagedListDisplayMode.IfNeeded,
                               MaximumPageNumbersToDisplay = 3,
                               DisplayEllipsesWhenNotShowingAllPageNumbers = true,
                               EllipsesFormat = "...",
                               LinkToFirstPageFormat = "<div style='position:absolute;'><img src='/Content/assets/images/left-chevlon.svg' width='10'><img src='/Content/assets/images/left-chevlon.svg' width='10'></div>",
                               LinkToLastPageFormat = "<div style='position:absolute;'><img src='/Content/assets/images/right-chevlon.svg' width='10'><img src='/Content/assets/images/right-chevlon.svg' width='10'></div>"
                           });
                        </div>
                    </div>
                }
                @if (Model.TotalItemCount > 10)
                {
                    <div class="col-lg-3 col-md-3 col-sm-12 text-normal pr-0 absolute">
                        Number of items to display per page
                        <select class="form-select mb-3" style="width:100px;" aria-label=".form-select-lg example" id="pageSizeSelect">
                            <option val="10" @(pageSize == 10 ? "selected" : "")>10</option>
                            <option val="20" @(pageSize == 20 ? "selected" : "")>20</option>
                            <option val="50" @(pageSize == 50 ? "selected" : "")>50</option>
                            <option val="100" @(pageSize == 100 ? "selected" : "")>100</option>
                        </select>
                    </div>
                }
            </div>
        </div>
    }

    @{
        string GetSortDefaultClass(int sortTypeVal, int sortOrderVal, int valToCheck)
        {
            var sortClass = ""; // 0-desc , 3-asc
            if (sortOrderVal == valToCheck)
            {
                sortClass = sortTypeVal == 0 ? "sorting_desc" : "sorting_asc";
            }
            return sortClass;
        }
    }
    @Html.Hidden("hf_MovementListForSO", isSOMove);
    @Html.Hidden("hf_PlanMovement1", planmvmt);

    @*@Html.Hidden("hf_PlanMovement1",ViewBag.PlanMovement);*@
    @{


        <input type="hidden" value="@ViewBag.MovementListForSO" id="hf_MovementListForSO" name="hf_MovementListForSO" />
        <input type="hidden" value="@ViewBag.IsRoutePrevMoveOpion" id="hf_IsRoutePrevMoveOpion" name="hf_IsRoutePrevMoveOpion" />
        <input type="hidden" value="@ViewBag.IsVehiclePrevMoveOpion" id="hf_IsVehiclePrevMoveOpion" name="hf_IsVehiclePrevMoveOpion" />
        <input type="hidden" value="@ViewBag.PlanMovement" id="hf_PlanMovement1" name="hf_PlanMovement1" />
        <input type="hidden" value="true" id="hf_HaulierMovement" name="hf_HaulierMovement" />
    }
    @*<script src="~/Scripts/Movements/SOMovementList.js?V@(Session["ProjectVersion"])"></script>*@
</div>