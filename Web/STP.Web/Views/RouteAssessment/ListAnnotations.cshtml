
@using PagedList.Mvc
@model PagedList.IPagedList<STP.Domain.SecurityAndUsers.GetUserList>


@{
    //  ViewBag.Title = "userList";
    //  Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="~/Content/Style/Common/alertbox.css" rel="stylesheet" />
<link href="~/Content/Style/Common/style.css" rel="stylesheet" />
@{


    int isAdmin = 0;
    int userTypeID = 0;
    if (Session["UserInfo"] != null)
    {
        var sessionValues = (STP.Domain.SecurityAndUsers.UserInfo)Session["UserInfo"];
        userTypeID = sessionValues.UserTypeId;
        if (sessionValues.IsAdmin == 1)
        {
            isAdmin = 1;
        }
    }
    bool createSuccess = false;

    if (ViewBag.saveMsg != null)
    {
        createSuccess = true;
    }
}

@{
    bool isAccessible = false;
    if (isAdmin == 1 && userTypeID == 696006)
    {
        isAccessible = true;
    }
}

@Html.Hidden("CreateAlert", createSuccess)

@Html.Hidden("EditForAdmin", isAccessible)
<link href="~/Content/Style/Common/style.css" rel="stylesheet" />
<link href="~/Content/Style/Common/grid_css.css" rel="stylesheet" />
<link href="~/Content/PagedList.css" rel="stylesheet" />
<div id="div_ListAnnotation">
    <span id="spn_Result"></span>

    @{
        if (ViewBag.annotation == null || ViewBag.annotation == "")
        {
            <div class="cardSOA1 mt-0" style="text-align:center;">
                <h6 class="text-color3 stHeading1 m-0">No annotations</h6>
            </div>
        }
        else
        {
            <div>@Html.Raw(ViewBag.annotation) </div>
        }
    }

    <span class="pageSizeSelector">
        @*   Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) of @Model.PageCount*@
        @* <select id="pageSizeSelect" onchange="changePageSize(this)">
                <option id="10">10</option>
                <option id="20">20</option>
                <option id="50">50</option>
                <option id="100">100</option>
            </select>*@
    </span>
    @{
        int? pageSize = ViewBag.pageSize;
        int? pageNum = ViewBag.page;
        string SearchString = ViewBag.UserSearchString;
        string SearchType = ViewBag.UserSearchType;
        string UserDisableFlag = ViewBag.UserDisableFlag;

        @Html.Hidden("pageSizeVal", pageSize)
        @Html.Hidden("pageNum", pageNum)
        @Html.Hidden("hdnSearchString", SearchString)
        @Html.Hidden("hdnSearchType", SearchType)
        @Html.Hidden("userTypeID", userTypeID)
        @Html.Hidden("hdnUserDisableFlag", UserDisableFlag)

    }

    @*@Html.PagedListPager(Model, page => Url.Action("userList",
        new { page, sortOrder = ViewBag.CurrentSort, currentFilter = ViewBag.CurrentFilter, pageSize = pageSize, SearchString = SearchString, SearchType = SearchType, disableFlag= UserDisableFlag}))*@


    <br />
    <span class="pageSizeSelector" style="float:right">
        @*  Total Records @Model.TotalItemCount*@
    </span>
</div>
@{
<input type="hidden" value="@ViewBag.pageSize" id="hf_pageSize" name="hf_pageSize" />
<input type="hidden" value="@ViewBag.UserSearchType" id="hf_UserSearchType" name="hf_UserSearchType" />
<input type="hidden" value="@ViewBag.UserDisableFlag" id="hf_UserDisableFlag" name="hf_UserDisableFlag" />
<input type="hidden" value="@ViewBag.saveMsg" id="hf_saveMsg" name="hf_saveMsg" />
}

