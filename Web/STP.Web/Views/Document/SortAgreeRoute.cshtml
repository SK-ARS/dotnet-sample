
@{
    Layout = null;
}

@model STP.Domain.DocumentsAndContents.SortAgreeRouteParams.AgreedRoute

@{
    int UnitType = 0;
    var startPointString = string.Empty;
    var endPointString = string.Empty;

    if(Model.RouteParts.GetType().IsArray)
    {
        if (Model.RouteParts!=null)
        {
            foreach (var item in Model.RouteParts)
            {
                startPointString = item.RoutePart.RoadPart.StartPointListPosition.StartPoint.Description;
                endPointString = item.RoutePart.RoadPart.EndPointListPosition.EndPoint.Description;

            }
        }
    }


}

@{
    string ESDALReferenceString = string.Empty;
    System.Globalization.TextInfo textInfo = new System.Globalization.CultureInfo("en-US", false).TextInfo;
}

<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,
				initial-scale=1" />
    <link href="~/Content/bootstrap.css" rel="stylesheet" />
    <!-- Bootstrap CSS -->
    <!--<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous" />-->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap" rel="stylesheet" />
    <link href="~/Content/fonts.css" rel="stylesheet" />
    <style>

        .container-fluid {
            padding-right: 15px;
            padding-left: 15px;
            margin-right: auto;
            margin-left: auto;
        }

        .row {
            margin-right: -15px;
            margin-left: -15px;
        }

        .row-no-gutters {
            margin-right: 0;
            margin-left: 0;
        }

            .row-no-gutters [class*="col-"] {
                padding-right: 0;
                padding-left: 0;
            }

        body {
            width: 100%;
            height: 100%;
            margin: 0 auto;
            padding: 0;
            font-size: 12pt;
           
        }

        * {
            box-sizing: border-box;
            -moz-box-sizing: border-box;
        }


        @@font-face {
            font-family: 'Lato-Light';
            src: url('../../Content/assets/Lato-Light.ttf') format('truetype');
        }

        @@font-face {
            font-family: 'Lato-Medium';
            src: url('../../Content/assets/Lato-Medium.ttf') format('truetype');
        }

        @@font-face {
            font-family: 'Lato-Regular';
            src: url('../../Content/assets/Lato-Regular.ttf') format('truetype');
        }

        @@font-face {
            font-family: 'Lato-Bold';
            src: url('../../Content/assets/Lato-Bold.ttf') format('truetype');
        }

        @@font-face {
            font-family: 'Lato-Semibold';
            src: url('../../Content/assets/Lato-Semibold.ttf') format('truetype');
        }


        .main-page {
          /*  width: 220mm;
            min-height: 297mm;
            margin: 10mm auto;*/
            background: white;
         /*   padding: 1cm;*/
        }

        .sub-page {
            padding: 1cm;
            height: 35mm;
        }

        .page-margin {
            padding: 1cm 1cm 0cm 1cm;
        }

        .text-head {
            color: black;
            font-size: 35px;
            font-family: lato_medium, Arial;
            font-style: normal;
            font-weight: 400;
        }

        .text-highlight {
            letter-spacing: 0.00px;
            color: black;
            font-size: 15.00px;
            font-weight: 700;
            font-style: normal;
            font-family: lato_medium, Arial;
        }

        .text-normal-hyperlink {
            line-height: 35.00px;
            letter-spacing: 0.00px;
            color: rgba(39, 87, 149, 1);
            -webkit-text-stroke: unset;
            font-size: 15.00px;
            font-weight: 500;
            font-style: normal;
            font-family: lato_medium, Arial;
        }

        .text-normal,
        p,
        li {
            line-height: 22.00px;
            letter-spacing: 0.00px;
            color: black;
            -webkit-text-stroke: unset;
            font-size: 14.00px;
            font-weight: 500;
            font-style: normal;
            font-family: lato_medium, Arial;
            text-align: justify;
        }

        ol {
            padding-left: 1rem !important;
        }

        ul {
            padding-left: 0.5rem !important;
            list-style-type: "*";
        }

        p {
            margin: 0px !important;
            padding: 0px !important;
        }

        .text-title {
            color: black;
            font-size: 25px;
            font-family: lato_light, Arial;
            font-style: normal;
            font-weight: 100;
        }

        .text-normal-light {
            color: black;
            font-size: 16px;
            font-family: lato_light, Arial;
            font-style: normal;
            font-weight: 300;
        }

        .text-normal-link {
            color: rgba(39, 87, 149, 1);
            font-size: 16px;
            font-family: lato_medium, Arial;
            font-style: normal;
            font-weight: 100;
        }

        .notes-highlight {
            background-color: rgba(39, 87, 149, 0.1);
            padding: 1.5rem 4rem;
            margin-left: 4rem;
        }

        .notes-highlight1 {
            background-color: rgba(39, 87, 149, 0.1);
            padding: 1.5rem 4rem;
        }

        .wd1 {
            flex: 0 0 auto;
            width: 16.6666666667%;
        }

        .wd1 {
            flex: 0 0 auto;
            width: 16.6666666667%;
        }

        .wd2 {
            flex: 0 0 auto;
            width: 50%;
        }

        .wd3 {
            flex: 0 0 auto;
            width: 83.3333333333%;
        }

        .wd4 {
            flex: 0 0 auto;
            width: 41.6666666667%;
        }

        .wd5 {
            flex: 0 0 auto;
            width: 58.3333333333%;
        }

        .wd6 {
            flex: 0 0 auto;
            width: 8.3333333333%;
        }

        .wd7 {
            flex: 0 0 auto;
            width: 33.3333333333%;
        }

        .wd8 {
            flex: 0 0 auto;
            width: 50%;
        }

        .wd9 {
            flex: 0 0 auto;
            width: 50%;
        }

        hr {
            margin: 0.2rem 0rem;
        }

        .pl-3 {
            padding-left: 1.5rem;
        }


        @@page {
            size: A4;
            margin: 0;
        }

        @@media print {

            html,
            body {
                width: 220mm;
                height: 297mm;
                -webkit-print-color-adjust: exact;
            }

            .main-page {
                margin: 0;
                border: initial;
                border-radius: initial;
                width: initial;
                min-height: initial;
                box-shadow: initial;
                background: initial;
                page-break-after: always;
                padding: initial
            }
        }
    </style>

    <title>ESDAL</title>
</head>

<body style="overflow-y: auto;">
    <!-- main-content -->
    <div class="main-page">
        <div>
            <div>
                <div style="text-align: end;padding-top: 1cm;padding-right: 2cm;">
                    <img class="img-fluid" src="~/Content/assets/images/logo.png" width="120">
                </div>
            </div>
            <div class="text-normal-light pb-3" style="padding-left: 1cm;">
                FACSIMILE MESSAGE
            </div>
            <div class="notes-highlight1">
                <span class="text-head">Agree route</span><br>
                <p class="text-normal-light">Classification: <span class="text-normal-link">special order</span></p>
            </div>
            <div class="page-margin">
                <div class="textContents">
                    <div class="row" style="padding-bottom: 2rem;">
                        <div>
                            <table border="0">
                                <tr>
                                    <td align="left" valign="top">
                                        <b>Date sent:</b>
                                    </td>
                                    <td align="right" valign="top" style="padding-right:140px">

                                        @{
                                            var SentDateTime = "";
                                            if (Convert.ToString(Model.SentDateTime) != null && Convert.ToString(Model.SentDateTime).Contains("##**##"))
                                            {
                                                SentDateTime = Convert.ToString(Model.SentDateTime).Split(new string[] { "##**##" }, StringSplitOptions.None)[0];
                                                SentDateTime = string.Format("{0:dd MMM yyyy HH:mm:ss}", SentDateTime);

                                            }
                                            else
                                            {
                                                SentDateTime = string.Format("{0:dd MMM yyyy HH:mm:ss}", Model.SentDateTime);
                                            }
                                            <span>@SentDateTime</span>
                                        }
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <br />
                                    </td>
                                </tr>
                                <tr>
                                    <td align="left" valign="top">
                                        <b>AIL Contact:</b>
                                    </td>
                                    <td align="Right" valign="top">
                                        <div class="wd2">
                                            <p>

                                                @Model.HAContact.Contact<br />
                                                @foreach (var item in Model.HAContact.Address.Line)
                                                {
                                                    if (!string.IsNullOrWhiteSpace(item))
                                                    {
                                                        @item<br />
                                                    }
                                                }
                                                @Model.HAContact.Address.PostCode <br />

                                                @if (!string.IsNullOrWhiteSpace(Model.HAContact.Address.Country))
                                                {
                                                    var Country = "";
                                                    if (Model.HAContact.Address.Country.Contains("##**##"))
                                                    {
                                                        Country = Model.HAContact.Address.Country.Split(new string[] { "##**##" }, StringSplitOptions.None)[1];
                                                    }
                                                    else
                                                    {
                                                        Country = Model.HAContact.Address.Country;
                                                    }
                                                    <span>@Country.ToUpper()</span><br />
                                                }

                                                @if (!string.IsNullOrWhiteSpace(Model.HAContact.TelephoneNumber))
                                                {
                                                <p>Direct tel @Model.HAContact.TelephoneNumber</p>
                                            }
                                                @if (Model.HAContact.FaxNumber != null && Model.HAContact.FaxNumber != "0")
                                                {
                                                    <p>Fax number @Convert.ToString(Model.HAContact.FaxNumber)</p>
                                                }

                                                @if (!string.IsNullOrWhiteSpace(Model.HAContact.EmailAddress))
                                                {
                                                    <p> Email address @Model.HAContact.EmailAddress </p>
                                                }
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <br />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td align="left" valign="top">
                                            <b>To:</b>
                                        </td>
                                        <td align="Right" valign="top">
                                            <div class="wd2">
                                                <table>
                                                    @foreach (var item in Model.Recipients)
                                                    {

                                                        <tr>
                                                            <td>
                                                                @{
                                                                    if (!string.IsNullOrWhiteSpace(item.ContactName))
                                                                    {
                                                                        <p>  @item.OrganisationName </p>
                                                                    }
                                                                }


                                                                @{
                                                                    if (!string.IsNullOrWhiteSpace(item.ContactName))
                                                                    {

                                                                        if (item.ContactName.Contains("##**##"))
                                                                        {
                                                                            @item.ContactName.Substring(item.ContactName.LastIndexOf("##**##") + 1)

                                                                        }
                                                                        else
                                                                        {
                                                                            @item.ContactName
                                                                        }
                                                                        if (item.OrganisationName.Contains("##**##"))
                                                                        {
                                                                            @item.OrganisationName.Substring(item.OrganisationName.LastIndexOf("##**##") + 1)

                                                                        }
                                                                        else
                                                                        {
                                                                            @item.OrganisationName
                                                                        }
                                                                    }
                                                                }
                                                            </td>
                                                        </tr>
                                                    }
                                                </table>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <br />
                                        </td>
                                    </tr>
                                </table>
                            </div>

                        </div>


                    </div>
                </div>
                <div class="main-page">
                    <div class="sub-page">
                        <div class="row pb-1">
                            <div class="notes-highlight">
                                <p class="pb-3">Agree route is attached.</p>
                                <p class="pb-3">
                                    @{
                                        if (Model.DistributionComments != null)
                                        {
                                            foreach (var item in Model.DistributionComments)
                                            {
                                                @Convert.ToString(item)
                                            }

                                        }
                                    }


                                </p>
                                <p>Thank you</p>
                            </div>
                            <div>
                                <br />
                            </div>
                            <div class="text-title">
                                Route summary for
                                @{

                                    if (Model.ESDALReferenceNumber.Mnemonic != null)
                                    {
                                        ESDALReferenceString = Model.ESDALReferenceNumber.Mnemonic;
                                    }
                                    if (Model.ESDALReferenceNumber.MovementProjectNumber != 0)
                                    {
                                        ESDALReferenceString += Convert.ToString("/") + Convert.ToString(Model.ESDALReferenceNumber.MovementProjectNumber);
                                    }
                                    if (Model.ESDALReferenceNumber.MovementVersion != 0)
                                    {
                                        ESDALReferenceString += Convert.ToString("/S") + Convert.ToString(Model.ESDALReferenceNumber.MovementVersion);
                                    }
                                    @ESDALReferenceString
                                }
                            </div>
                            <div>
                                <br />
                            </div>
                            <div class="pt-3">
                                <div class="pt-5">
                                    <div class="row" style="flex-wrap: nowrap; align-items: center; padding-left :10px">
                                        <table>
                                            <tr>
                                                <td>
                                                    <div style="width: 2rem">
                                                        <img src="../../Content/assets/images/route-start-icon.svg" width="15" alt="vehicle-2">

                                                    </div>

                                                </td>
                                                <td>
                                                    <div>
                                                        <div style="width: auto" class="pl-0">
                                                            <p>
                                                                @if (Model.JourneyFromTo.From != null)
                                                                {
                                                                    @Model.JourneyFromTo.From
                                                                }
                                                            </p>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                        </table>


                                    </div>
                                    <div>
                                        <div style="width: 2rem;padding-left: 4px; margin-top: -11px;">
                                            <p style="display: flex;flex-direction: column; padding-top: -4px;">
                                                <span style="height: 6px;">.</span>
                                                <span style="height: 6px;">.</span>
                                                <span style="height: 6px;">.</span>
                                            </p>
                                        </div>
                                    </div>
                                    <div class="row mt-2" style="flex-wrap: nowrap;align-items: center; padding-left :10px">
                                        <table>
                                            <tr>
                                                <td>
                                                    <img src="../../Content/assets/images/destination-icon.svg" width="15" alt="vehicle-2">
                                                </td>
                                                <td>
                                                    <div style="width: auto" class="pl-0">


                                                        @if (Model.JourneyFromTo.To != null)
                                                        {
                                                            @Model.JourneyFromTo.To
                                                        }


                                                    </div>
                                                </td>
                                            </tr>
                                        </table>


                                    </div>
                                </div>
                            </div>
                            <div>
                                <br />
                            </div>
                            <div>
                                <div>
                                    <div class="text-title pb-2">Agree route for movement of </div>
                                    <p>@Model.LoadDetails.Description</p>
                                </div>

                            </div>
                        </div>

                        <div>
                            <br />
                        </div>

                        <div class="row pb-1">
                            <table>

                                <tr>
                                    <td>
                                        <div>
                                            <div class="text-highlight">
                                                ESDAL reference
                                            </div>
                                        </div>
                                    </td>
                                    <td>  <spacer type="horizontal" width="100" height="100">  </spacer> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                    <td>
                                        <div>
                                            <p>@Model.ESDALReferenceNumber.Mnemonic/@Model.ESDALReferenceNumber.MovementProjectNumber/S @Model.ESDALReferenceNumber.MovementVersion  </p>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <br />
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div>
                                            <div class="text-highlight">
                                                Haulier reference
                                            </div>
                                        </div>
                                    </td>
                                    <td>  <spacer type="horizontal" width="100" height="100">  </spacer> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                    <td>
                                        <div>
                                            <p>
                                                @{
                                                    if (Model.HauliersReference.Contains("##**##"))
                                                    {
                                                        @Model.HauliersReference.Substring(Model.HauliersReference.LastIndexOf("##**##") + 1)

                                                    }
                                                    else if (Model.HauliersReference != null)
                                                    {
                                                        @Model.HauliersReference
                                                    }
                                                }

                                            </p>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <br />
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div>
                                            <div class="text-highlight">
                                                Approximate date of first movement
                                            </div>
                                        </div>
                                    </td>
                                    <td>  <spacer type="horizontal" width="100" height="100">  </spacer> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                    <td>
                                        <div>
                                            <p>@Model.JourneyTiming.FirstMoveDate.ToString("dd MMMM yyyy") to @Model.JourneyTiming.LastMoveDate.ToString("dd MMMM yyyy")  </p>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <br />
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div>
                                            <div class="text-highlight">
                                                From
                                            </div>
                                        </div>
                                    </td>
                                    <td>  <spacer type="horizontal" width="100" height="100">  </spacer> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                    <td>
                                        <div>
                                            <p>
                                                @startPointString

                                            </p>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <br />
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div>
                                            <div class="text-highlight">
                                                To
                                            </div>
                                        </div>
                                    </td>
                                    <td>  <spacer type="horizontal" width="100" height="100">  </spacer> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                    <td>
                                        <div>
                                            <p>
                                                @endPointString
                                            </p>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <br />
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div>
                                            <div class="text-highlight">
                                                Haulier
                                            </div>
                                        </div>
                                    </td>
                                    <td>  <spacer type="horizontal" width="100" height="100">  </spacer> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                    <td>
                                        <div>
                                            <p>
                                                @Model.HaulierDetails.HaulierName
                                            </p>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <br />
                                    </td>
                                </tr>
                                <tr>
                                    <td align="left" valign="top" class="text-highlight">

                                        Haulier contact details

                                    </td>
                                    <td>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>

                                    <td>
                                        <div>
                                            <p>
                                                @Model.HaulierDetails.HaulierContact
                                            </p>
                                            <p>
                                                @if (Model.HaulierDetails.HaulierAddress.Line != null)
                                                {
                                                    <span>@string.Join(",", Model.HaulierDetails.HaulierAddress.Line)</span>
                                                    <br />
                                                }
                                                @if (Model.HaulierDetails.HaulierAddress.PostCode != null)
                                                {
                                                    <span>@Model.HaulierDetails.HaulierAddress.PostCode</span>
                                                    <br />
                                                }
                                                @if (Model.HaulierDetails.HaulierAddress.Country != null)
                                                {
                                                    <span>@Model.HaulierDetails.HaulierAddress.Country.ToUpper()</span>
                                                }
                                            </p>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <br />
                                    </td>
                                </tr>
                                <tr>
                                    <td align="left" valign="top" class="text-highlight">

                                        Telephone number

                                    </td>
                                    <td>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>

                                    <td>
                                        <div>
                                            <p>
                                                @if (Model.HaulierDetails.TelephoneNumber != null)
                                                {
                                                    @Model.HaulierDetails.TelephoneNumber
                                                }

                                            </p>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <br />
                                    </td>
                                </tr>

                            </table>

                        </div>
                        <div>
                            <br />
                        </div>
                        <div>
                            <br />
                        </div>
                        <div>
                            <table cellpadding="10" cellspacing="50">
                                <tr>
                                    <td>
                                        <div>
                                            <div class="wd6 text-highlight">
                                                Special Order no
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="wd7 text-highlight">
                                            Signed on
                                        </div>
                                    </td>
                                    <td>
                                        <div class="wd7 text-highlight">
                                            Expires on
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="3" style="border-top: 1px solid black">
                                    </td>
                                </tr>
                                @*foreach (var item in Model.OrderSummary.Signed) no CS1579: foreach statement cannot operate on variables of type 'SortAgreeRouteParams.AgreedRouteOrderSummary' because
                                    'SortAgreeRouteParams.AgreedRouteOrderSummary' does not contain a public instance definition for 'GetEnumerator'*@
                                @for (int i = 0; i < Model.OrderSummary.Signed.Length; i++)
                                {
                                    <tr>
                                        @if (Convert.ToString(Model.OrderSummary.Signed[i].CurrentOrder).Length > 2)
                                        {


                                            <td class="wd6 text-normal">
                                                @Model.OrderSummary.Signed[i].CurrentOrder.OrderNumber
                                            </td>
                                            <td class="wd6 text-normal">
                                                @Model.OrderSummary.Signed[i].CurrentOrder.SignedOn
                                            </td>
                                            <td class="wd6 text-normal">
                                                @Model.OrderSummary.Signed[i].CurrentOrder.ExpiresOn

                                            </td>
                                            <td>
                                            </td>
                                        }
                                    </tr>

                                }

                            </table>
                        </div>
                        <div>
                            <br />
                        </div>

                        <div class="pt-4">
                            <ol>

                                <li>
                                    <P>
                                        If, subsequent to the receipt of the agreed route below, emergency road or bridge works, including statutory
                                        undertakerâ€™s works, become necessary on any road shown in this route, the authority concerned is asked to
                                        inform the AIL contact and the haulier concerned without delay. Proposals for alternative routing should be formulated at
                                        this stage, if possible...
                                    </P>
                                </li>

                                <li>
                                    <P>
                                        The haulier must:
                                    </P>
                                    <ol type="a">

                                        <li>
                                            Contact all police authorities before movement takes place to arrange for suitable timings and escorts
                                            where required.
                                        </li>
                                        <li>
                                            Comply with all cautions specified in the route.
                                        </li>
                                        <li>
                                            Survey the route prior to movement to satisfy himself of the negotiability of the vehicles concerned.
                                        </li>
                                        <li>
                                            Make arrangements with the highway authority for the removal, at his own expense, of any street furniture
                                            that may be necessary.
                                        </li>
                                        <li>
                                            Ensure that if the driver is unable to follow this route due to road-works or any other cause, he should
                                            telephone 0121 6788068 for instructions on the diversion to be followed to avoid the obstructed route. At
                                            weekends and outside normal working hours (8.30 -16.30) he should telephone 020 7944 5999 and inform
                                            the Duty Officer of the situation.
                                        </li>
                                        <li>
                                            Note that the issue of this route does not constitute authority to carry out the movement, which should not
                                            be under taken until the relevant Special Order has been issued.
                                        </li>
                                    </ol>
                                </li>
                                <li>

                                    The Secretary of State, in proposing the attached route, has satisfied themselves as far possible that all bridges
                                    which will be passed over can safely carry the loads which have been reported to their provided that the
                                    conditions contained in the Special Order and the agreed route are complied with. They accept no responsibility
                                    that any vehicle described in the Special Order can negotiate the proposed route and neither the owner nor the
                                    operator of any such vehicle is relieved of any of their obligations or liabilities either under the Road Vehicle
                                    (Authorisation of Special Types)(General) Order 2003 or otherwise.<br />
                                </li>

                            </ol>


                        </div>


                        <div>
                            <br />
                        </div>


                        <div class="text-title pt-1 pb-3">
                            Route overview
                        </div>
                        <div>
                            <p>

                                Number of movements:
                                @{
                                    if (Model.LoadDetails.TotalMoves.ToString().Contains("##**##"))
                                    {

                                        string TotalMovesString = Model.LoadDetails.TotalMoves.ToString().Split(new string[] { "##**##" }, StringSplitOptions.None)[0];
                                        @TotalMovesString
                                    }
                                    else
                                    {
                                        <span>@Model.LoadDetails.TotalMoves</span>
                                    }

                                }  <br>
                                Number of pieces moved at one time:
                                @{
                                    if (Model.LoadDetails.MaxPiecesPerMove.ToString().Contains("##**##"))
                                    {
                                        string MaxPiecesPerMoveString = Model.LoadDetails.MaxPiecesPerMove.ToString().Split(new string[] { "##**##" }, StringSplitOptions.None)[0];

                                        @MaxPiecesPerMoveString
                                    }
                                    else
                                    {
                                        <span>@Model.LoadDetails.MaxPiecesPerMove</span>
                                    }



                                }
                            </p>
                        </div>
                        <div>
                            <br />
                        </div>
                        @foreach (var item in Model.RouteParts)
                        {
                            <div>
                                <br />
                            </div>
                            <div class="text-title pt-4 pb-3" style="padding-right:400px">
                                LEG @item.RoutePart.LegNumber
                            </div>

                            <div>
                                <br />
                            </div>
                            <div>
                                <table cellpadding="10" cellspacing="50">
                                    <tr>
                                        <td>
                                            <div>
                                                <div class="wd6 text-highlight">
                                                    Leg
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="wd7 text-highlight">
                                                Route
                                            </div>
                                        </td>
                                        <td>
                                            <div class="wd7 text-highlight">
                                                Distance
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="3" style="border-top: 1px solid black">
                                        </td>
                                    </tr>
                                    @*Model.RouteParts.RoutePartListPosition.RoutePart is not enumator..so no need loop in dev db, loop in test db *@

                                    <tr>

                                        <td class="wd6 text-normal">
                                            @item.RoutePart.LegNumber
                                        </td>
                                        <td class="wd6 text-normal">
                                            @{
                                                if (item.RoutePart.Name.Contains("##**##"))
                                                {
                                                    @item.RoutePart.Name.Substring(item.RoutePart.Name.LastIndexOf("##**##") + 1)

                                                }
                                                else
                                                {
                                                    @item.RoutePart.Name
                                                }
                                            }
                                        </td>
                                        <td class="wd6 text-normal">
                                            @{
                                                var DistanceString = string.Empty;
                                                decimal DistanceValue = 0;

                                                if (UnitType == 0 || UnitType == 692001)
                                                {
                                                    if (item.RoutePart.RoadPart.Distance.Metric.Distance < 1000)
                                                    {
                                                        DistanceString = " m";
                                                    }
                                                    else
                                                    {
                                                        DistanceString = " km";
                                                    }

                                                    DistanceValue = Math.Round(Convert.ToDecimal(item.RoutePart.RoadPart.Distance.Metric.Distance / 1000));

                                                }
                                                else if (UnitType == 692002)
                                                {
                                                    DistanceString = string.Empty;
                                                    if (item.RoutePart.RoadPart.Distance.Imperial.Distance < 700)
                                                    {
                                                        DistanceString = " yards";
                                                    }
                                                    else
                                                    {
                                                        DistanceString = " miles";
                                                    }
                                                    DistanceValue = Math.Round(Convert.ToDecimal(item.RoutePart.RoadPart.Distance.Imperial.Distance / 1760));

                                                }


                                                @Convert.ToString(DistanceValue) @Convert.ToString(DistanceString);
                                            }

                                        </td>
                                        <td>
                                        </td>
                                    </tr>


                                </table>

                            </div>
                            <div>
                                <br />
                            </div>

                            <div>
                                <br />
                            </div>
                            <div>
                                <br />
                            </div>
                            <div>
                                <br />
                            </div>
                            <div>
                                <br />
                            </div>
                            <div class="sub-page">
                                <div class="row" style="flex-wrap: nowrap;align-items: center">
                                    <table>
                                        <tr>
                                            <td>
                                                <div style="width: 2rem">
                                                    <img src="../../Content/assets/images/route-start-icon.svg" width="15" alt="vehicle-2">

                                                </div>

                                            </td>
                                            <td>
                                                <div>
                                                    <div style="width: auto" class="pl-0">
                                                        <p>

                                                            @{
                                                                if (item.RoutePart.RoadPart.StartPointListPosition.StartPoint.Description != null)
                                                                {
                                                                    if (item.RoutePart.RoadPart.StartPointListPosition.StartPoint.Description.Contains("##**##"))
                                                                    {
                                                                        string StartPoint = item.RoutePart.RoadPart.StartPointListPosition.StartPoint.Description.Split(new string[] { "##**##" }, StringSplitOptions.None)[0];

                                                                        @StartPoint
                                                                    }
                                                                    else
                                                                    {
                                                                        <span>@item.RoutePart.RoadPart.StartPointListPosition.StartPoint.Description</span>
                                                                    }
                                                                }


                                                            }

                                                        </p>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </table>


                                </div>
                                <div>
                                    <div style="width: 2rem;padding-left: 4px; margin-top: -11px;">
                                        <p style="display: flex;flex-direction: column; padding-top: -4px;">
                                            <span style="height: 6px;">.</span>
                                            <span style="height: 6px;">.</span>
                                            <span style="height: 6px;">.</span>
                                        </p>
                                    </div>
                                </div>
                                <div class="row mt-2" style="flex-wrap: none;align-items: center;">
                                    <table>
                                        <tr>
                                            <td>
                                                <img src="../../Content/assets/images/destination-icon.svg" width="15" alt="vehicle-2">
                                            </td>
                                            <td>
                                                <div style="width: auto" class="pl-0">
                                                    @{
                                                        if (item.RoutePart.RoadPart.EndPointListPosition.EndPoint.Description != null)
                                                        {
                                                            if (item.RoutePart.RoadPart.EndPointListPosition.EndPoint.Description.Contains("##**##"))
                                                            {
                                                                string StartPoint = item.RoutePart.RoadPart.EndPointListPosition.EndPoint.Description.Split(new string[] { "##**##" }, StringSplitOptions.None)[0];

                                                                @StartPoint
                                                            }
                                                            else
                                                            {
                                                                <span>@item.RoutePart.RoadPart.EndPointListPosition.EndPoint.Description</span>
                                                            }
                                                        }
                                                    }

                                                </div>
                                            </td>
                                        </tr>
                                    </table>


                                </div>
                            </div>
                            <div>
                                <br />
                            </div>

                            <table border="0" cellspacing="5" cellpadding="5">
                                <tr>
                                    <th>
                                        <b>Road</b>
                                    </th>
                                    <th>
                                        <b>
                                            Distance
                                        </b>
                                    </th>
                                </tr>
                                <tr>
                                    <td colspan="3" style="border-top: 1px solid black">
                                    </td>
                                </tr>


                                @foreach (var routeItems in item.RoutePart.RoadPart.Roads.RouteSubPartListPosition.RouteSubPart.PathListPosition.Path)
                                {


                                    var TravelDistancekey = "";
                                    decimal TravleDistanceValue = 0;
                                    if (UnitType == 0 || UnitType == 692001)
                                    {
                                        <tr>


                                            <td class="wd4 pl-3 text-normal">
                                                @Convert.ToString(routeItems.RoadTraversal.RoadIdentity.Name)
                                            </td>
                                            <td class="wd4 pl-3 text-normal">



                                                @if (routeItems.RoadTraversal.Distance.Metric < 1000)
                                                {
                                                    if (Convert.ToString(routeItems.RoadTraversal.Distance.Metric).Contains("##**##"))
                                                    {

                                                        var metricAfter = Convert.ToString(routeItems.RoadTraversal.Distance.Metric).ToString().Split(new string[] { "##**##" }, StringSplitOptions.None)[1];
                                                        TravelDistancekey = " m";
                                                        @metricAfter @TravelDistancekey
                                                    }
                                                    else
                                                    {
                                                        TravleDistanceValue = Math.Round(Convert.ToDecimal(routeItems.RoadTraversal.Distance.Metric));
                                                        TravelDistancekey = " m";
                                                        @TravleDistanceValue @TravelDistancekey
                                                    }

                                                }
                                                else
                                                {
                                                    TravleDistanceValue = Convert.ToDecimal(routeItems.RoadTraversal.Distance.Metric / 1000);
                                                    TravelDistancekey = " km";
                                                    @TravleDistanceValue @TravelDistancekey


                                                }

                                                <!--TODO : OldRoadTraversal <1000   ns2:OldRoadTraversal/ns2:RoadTraversal/ns2:Distance/ns2:Metric &lt; 1000-->
                                                <!--TODO : ns2:OldRoadTraversal/ns2:RoadTraversal/ns2:Distance/ns2:Metric != ''-->
                                                <!--TODO : test="ns2:OldRoadTraversal"-->

                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="2" style="border-top: 1px solid black">
                                            </td>
                                        </tr>
                                    }
                                    else
                                    {
                                        <tr>


                                            <td class="wd4 pl-3 text-normal">
                                                @Convert.ToString(routeItems.RoadTraversal.RoadIdentity.Name)
                                            </td>
                                            <td class="wd4 pl-3 text-normal">
                                                @if (routeItems.RoadTraversal.Distance.Imperial < 700)
                                                {
                                                    TravelDistancekey = " yards";
                                                    TravleDistanceValue = Math.Round(Convert.ToDecimal(routeItems.RoadTraversal.Distance.Imperial / 1000));
                                                }
                                                else
                                                {
                                                    TravleDistanceValue = Math.Round(Convert.ToDecimal(routeItems.RoadTraversal.Distance.Imperial / 1760));
                                                    TravelDistancekey = " miles";
                                                }
                                                @TravleDistanceValue @TravelDistancekey


                                            </td>

                                        </tr>

                                        <tr>

                                            <td colspan="2" style="border-top: 1px solid black">
                                            </td>

                                        </tr>
                                    }
                                }





                            </table>

                            <div>
                                <br />
                            </div>

                            <div>
                                <br />
                            </div>

                            <div class="text-title">
                                Vehicle Details
                            </div>
                            <div>
                                <br />
                            </div>
                            <div>
                                <table border="0" cellspacing="5" cellpadding="5">
                                    <tr>
                                        <th>
                                            <b> Summary:</b>
                                        </th>
                                        <th>
                                            <b>
                                                @item.RoutePart.RoadPart.Vehicles.ConfigurationSummaryListPosition.ConfigurationSummary.ToString()

                                            </b>
                                        </th>
                                    </tr>
                                    <tr>
                                        <td colspan="3" style="border-top: 1px solid black">
                                        </td>
                                    </tr>
                                    @{
                                        string LengthType = string.Empty;

                                        var OverallLengthListPosition = item.RoutePart.RoadPart.Vehicles.OverallLengthListPosition;
                                        var Vehicles = item.RoutePart.RoadPart.Vehicles;
                                        decimal IncludingProjections = 0, ExcludingProjections = 0;
                                        decimal RigidLengthListPositionString = Vehicles.RigidLengthListPosition.RigidLength;
                                        decimal OverallWidthListPositionString = Vehicles.OverallWidthListPosition.OverallWidth;
                                        decimal OverallHeightListPositionString = Vehicles.OverallHeightListPosition.OverallHeight.MaxHeight;

                                        decimal GrossWeightListPositionString = Vehicles.GrossWeightListPosition.GrossWeight.Weight;
                                        decimal MaxAxleWeightString = Vehicles.MaxAxleWeightListPosition.MaxAxleWeight.Weight;
                                        decimal FrontOverhangListPositionstring = Convert.ToDecimal(Vehicles.FrontOverhangListPosition.FrontOverhang);
                                    }
                                    <tr>
                                        <td class="wd4 pl-3 text-normal">
                                            Overall length:
                                        </td>
                                        <td class="wd4 pl-3 text-normal">
                                            @{



                                                if (UnitType == 0 || UnitType == 692001)
                                                {

                                                    LengthType = " m(including projections),";

                                                }
                                                else if (UnitType == 692002)
                                                {
                                                    LengthType = " ft(including projections),";
                                                }
                                                if (OverallLengthListPosition.OverallLength.IncludingProjections != 0)
                                                {
                                                    IncludingProjections = OverallLengthListPosition.OverallLength.IncludingProjections;
                                                    @IncludingProjections @LengthType
                                                }

                                                if (UnitType == 0 || UnitType == 692001)
                                                {

                                                    LengthType = " m(excluding projections)";

                                                }
                                                else if (UnitType == 692002)
                                                {
                                                    LengthType = " ft(excluding projections)";
                                                }
                                                if (OverallLengthListPosition.OverallLength.ExcludingProjections != 0)
                                                {
                                                    ExcludingProjections = OverallLengthListPosition.OverallLength.ExcludingProjections;
                                                    @ExcludingProjections @LengthType
                                                }

                                            }

                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2" style="border-top: 1px solid black">
                                        </td>
                                    </tr>

                                    <tr>


                                        <td class="wd4 pl-3 text-normal">
                                            Rigid length:
                                        </td>
                                        <td class="wd4 pl-3 text-normal">
                                            @{
                                                LengthType = string.Empty;
                                                if (UnitType == 0 || UnitType == 692001)
                                                {

                                                    LengthType = " m";

                                                }
                                                else if (UnitType == 692002)
                                                {
                                                    LengthType = " ft";
                                                }
                                                if (RigidLengthListPositionString != 0)
                                                {

                                                    @RigidLengthListPositionString @LengthType
                                                }
                                            }
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2" style="border-top: 1px solid black">
                                        </td>
                                    </tr>
                                    <tr>


                                        <td class="wd4 pl-3 text-normal">
                                            Front overhang:
                                        </td>
                                        <td class="wd4 pl-3 text-normal">
                                            @{
                                                LengthType = string.Empty;
                                                if (UnitType == 0 || UnitType == 692001)
                                                {

                                                    LengthType = " m";

                                                }
                                                else if (UnitType == 692002)
                                                {
                                                    LengthType = " ft";
                                                }
                                                if (FrontOverhangListPositionstring != 0)
                                                {

                                                    @FrontOverhangListPositionstring @LengthType
                                                }
                                                else
                                                {
                                                    @Convert.ToString("0") @LengthType
                                                }
                                            }
                                        </td>
                                    </tr>

                                    <tr>
                                        <td colspan="2" style="border-top: 1px solid black">
                                        </td>
                                    </tr>
                                    <tr>


                                        <td class="wd4 pl-3 text-normal">
                                            Overall width:
                                        </td>
                                        <td class="wd4 pl-3 text-normal">
                                            @{
                                                LengthType = string.Empty;
                                                if (UnitType == 0 || UnitType == 692001)
                                                {

                                                    LengthType = " m";

                                                }
                                                else if (UnitType == 692002)
                                                {
                                                    LengthType = " ft";
                                                }
                                                if (OverallWidthListPositionString != 0)
                                                {

                                                    @OverallWidthListPositionString @LengthType
                                                }
                                                else
                                                {
                                                    @Convert.ToString("0") @LengthType
                                                }
                                            }
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2" style="border-top: 1px solid black">
                                        </td>
                                    </tr>
                                    <tr>


                                        <td class="wd4 pl-3 text-normal">
                                            Overall height:
                                        </td>
                                        <td class="wd4 pl-3 text-normal">
                                            @{
                                                LengthType = string.Empty;
                                                if (UnitType == 0 || UnitType == 692001)
                                                {

                                                    LengthType = " m";

                                                }
                                                else if (UnitType == 692002)
                                                {
                                                    LengthType = " ft";
                                                }
                                                if (OverallHeightListPositionString != 0)
                                                {

                                                    @OverallHeightListPositionString @LengthType
                                                }
                                                else
                                                {
                                                    @Convert.ToString("0") @LengthType
                                                }
                                            }
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2" style="border-top: 1px solid black">
                                        </td>
                                    </tr>
                                    <tr>


                                        <td class="wd4 pl-3 text-normal">
                                            Gross weight:
                                        </td>
                                        <td class="wd4 pl-3 text-normal">
                                            @{
                                                LengthType = string.Empty;
                                                if (UnitType == 0 || UnitType == 692001)
                                                {

                                                    LengthType = " kg";

                                                }
                                                else if (UnitType == 692002)
                                                {
                                                    LengthType = " kg";
                                                }
                                                if (GrossWeightListPositionString != 0)
                                                {

                                                    @GrossWeightListPositionString @LengthType
                                                }
                                                else
                                                {
                                                    @Convert.ToString("0") @LengthType
                                                }
                                            }
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2" style="border-top: 1px solid black">
                                        </td>
                                    </tr>
                                    <tr>


                                        <td class="wd4 pl-3 text-normal">
                                            Max axle weight:
                                        </td>
                                        <td class="wd4 pl-3 text-normal">
                                            @{
                                                LengthType = string.Empty;
                                                if (UnitType == 0 || UnitType == 692001)
                                                {

                                                    LengthType = " kg";

                                                }
                                                else if (UnitType == 692002)
                                                {
                                                    LengthType = " kg";
                                                }
                                                if (MaxAxleWeightString != 0)
                                                {

                                                    @MaxAxleWeightString @LengthType
                                                }
                                                else
                                                {
                                                    @Convert.ToString("0") @LengthType
                                                }
                                            }
                                        </td>
                                    </tr>


                                </table>
                            </div>
                            <div>
                                <br />
                            </div>
                            <!--Non Semi trailer-->
                            <div>
                                @{
                                    string ComponentType = "Tractor";

                                }

                                @foreach (var items in item.RoutePart.RoadPart.Vehicles.VehicleSummaryListPosition.VehicleSummary.Configuration.NonSemiVehicle)
                                {

                                    var StringLoadBearing = items.Component.LoadBearing;
                                    ComponentType = items.Component.ComponentType;
                                    if (StringLoadBearing != null)
                                    {
                                        <table border="0" cellspacing="5" cellpadding="5">
                                            <tr>
                                                <th>
                                                    <b> @ComponentType.ToUpper() :</b>
                                                </th>
                                                <th>
                                                    <b>
                                                        @StringLoadBearing.Summary

                                                    </b>
                                                </th>
                                            </tr>
                                            <tr>
                                                <td colspan="3" style="border-top: 1px solid black">
                                                </td>
                                            </tr>

                                            <tr>
                                                <td class="wd4 pl-3 text-normal">
                                                    Gross weight:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{
                                                        LengthType = string.Empty;
                                                        //if (UnitType == 0 || UnitType == 692001)
                                                        //{

                                                        //    LengthType = " kg";

                                                        //} code optimized com0pare to xslt
                                                        //else
                                                        //{
                                                        //    LengthType = " kg";
                                                        //}
                                                        LengthType = " kg";
                                                        if (StringLoadBearing.Weight != 0)
                                                        {

                                                            @StringLoadBearing.Weight @LengthType


                                                        }
                                                        else
                                                        {
                                                            @Convert.ToString("0") @LengthType
                                                        }

                                                    }

                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" style="border-top: 1px solid black">
                                                </td>
                                            </tr>

                                            <tr>


                                                <td class="wd4 pl-3 text-normal">
                                                    Axle weight:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{
                                                        LengthType = string.Empty;

                                                        if (UnitType == 0 || UnitType == 692001)
                                                        {

                                                            LengthType = " kg";

                                                        }
                                                        else if (UnitType == 692002)
                                                        {
                                                            LengthType = " miles";
                                                        }
                                                        foreach (var axlesItem in StringLoadBearing.AxleConfiguration.AxleWeightListPosition)
                                                        {

                                                            if (axlesItem.AxleWeight.AxleCount != 0)
                                                            {

                                                                @axlesItem.AxleWeight.Value @LengthType @Convert.ToString(" X ") @axlesItem.AxleWeight.AxleCount
                                                            }
                                                            else
                                                            {
                                                                @Convert.ToString("0") @LengthType
                                                            }
                                                        }
                                                    }
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" style="border-top: 1px solid black">
                                                </td>
                                            </tr>
                                            <tr>


                                                <td class="wd4 pl-3 text-normal">
                                                    Wheel per axle:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{
                                                        foreach (var axlesItem in StringLoadBearing.AxleConfiguration.WheelsPerAxleListPosition)
                                                        {
                                                            if (axlesItem.WheelsPerAxle.AxleCount != 0)
                                                            {

                                                                @axlesItem.WheelsPerAxle.Value @Convert.ToString(" X ") @axlesItem.WheelsPerAxle.AxleCount
                                                            }
                                                            else
                                                            {
                                                                @Convert.ToString("0")
                                                            }
                                                        }
                                                    }
                                                </td>
                                            </tr>

                                            <tr>
                                                <td colspan="2" style="border-top: 1px solid black">
                                                </td>
                                            </tr>
                                            <tr>


                                                <td class="wd4 pl-3 text-normal">
                                                    Axle spacing:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{
                                                        LengthType = string.Empty;
                                                        if (UnitType == 0 || UnitType == 692001)
                                                        {

                                                            LengthType = " m";

                                                        }
                                                        else
                                                        {
                                                            LengthType = " ft";
                                                        }
                                                        foreach (var axlesItem in StringLoadBearing.AxleConfiguration.AxleSpacingListPosition)
                                                        {
                                                            if (axlesItem.AxleSpacing.AxleCount != 0)
                                                            {

                                                                @axlesItem.AxleSpacing.Value @LengthType @Convert.ToString(" X ") @axlesItem.AxleSpacing.AxleCount
                                                            }
                                                            else
                                                            {
                                                                @Convert.ToString("0")
                                                            }
                                                        }
                                                    }
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="2" style="border-top: 1px solid black">
                                                </td>
                                            </tr>
                                            <tr>


                                                <td class="wd4 pl-3 text-normal">
                                                    Tyre size:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{
                                                        LengthType = string.Empty;
                                                        if (UnitType == 0 || UnitType == 692001)
                                                        {

                                                            LengthType = " m";

                                                        }
                                                        else
                                                        {
                                                            LengthType = " ft";
                                                        }
                                                        foreach (var axlesItem in StringLoadBearing.AxleConfiguration.TyreSizeListPosition)
                                                        {
                                                            if (axlesItem.TyreSize.AxleCount != 0)
                                                            {

                                                                @axlesItem.TyreSize.Value @LengthType @Convert.ToString(" X ") @axlesItem.TyreSize.AxleCount
                                                            }
                                                            else
                                                            {
                                                                @Convert.ToString("0")
                                                            }
                                                        }
                                                    }
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="2" style="border-top: 1px solid black">
                                                </td>
                                            </tr>
                                            <tr>


                                                <td class="wd4 pl-3 text-normal">
                                                    Tyre centres:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{
                                                        LengthType = string.Empty;

                                                        foreach (var axlesItem in StringLoadBearing.AxleConfiguration.WheelSpacingListPosition)
                                                        {
                                                            if (axlesItem.WheelSpacing.AxleCount != 0)
                                                            {

                                                                @axlesItem.WheelSpacing.Value @Convert.ToString(" X ") @axlesItem.WheelSpacing.AxleCount
                                                            }
                                                            else
                                                            {
                                                                @Convert.ToString("0")
                                                            }
                                                        }
                                                    }
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="2" style="border-top: 1px solid black">
                                                </td>
                                            </tr>
                                            <tr>


                                                <td class="wd4 pl-3 text-normal">
                                                    Length:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{
                                                        LengthType = string.Empty;
                                                        if (UnitType == 0 || UnitType == 692001)
                                                        {

                                                            LengthType = " m";

                                                        }
                                                        else if (UnitType == 692002)
                                                        {
                                                            LengthType = " ft";
                                                        }

                                                        if (StringLoadBearing.RigidLength != 0)
                                                        {

                                                            @StringLoadBearing.RigidLength @LengthType
                                                        }
                                                        else
                                                        {
                                                            @Convert.ToString("0") @LengthType
                                                        }

                                                    }
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="2" style="border-top: 1px solid black">
                                                </td>
                                            </tr>
                                            <tr>


                                                <td class="wd4 pl-3 text-normal">
                                                    Width:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{
                                                        LengthType = string.Empty;
                                                        if (UnitType == 0 || UnitType == 692001)
                                                        {

                                                            LengthType = " m";

                                                        }
                                                        else if (UnitType == 692002)
                                                        {
                                                            LengthType = " ft";
                                                        }
                                                        if (StringLoadBearing.Width != 0)
                                                        {

                                                            @StringLoadBearing.Width @LengthType
                                                        }
                                                        else
                                                        {
                                                            @Convert.ToString("0") @LengthType
                                                        }
                                                    }
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="2" style="border-top: 1px solid black">
                                                </td>
                                            </tr>
                                            <tr>


                                                <td class="wd4 pl-3 text-normal">
                                                    Max. height:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{
                                                        LengthType = string.Empty;
                                                        if (UnitType == 0 || UnitType == 692001)
                                                        {

                                                            LengthType = " m";

                                                        }
                                                        else if (UnitType == 692002)
                                                        {
                                                            LengthType = " ft";
                                                        }
                                                        if (StringLoadBearing.Height.MaxHeight != 0)
                                                        {

                                                            @StringLoadBearing.Height.MaxHeight @LengthType
                                                        }
                                                        else
                                                        {
                                                            @Convert.ToString("0") @LengthType
                                                        }
                                                    }
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="2" style="border-top: 1px solid black">
                                                </td>
                                            </tr>
                                            <tr>


                                                <td class="wd4 pl-3 text-normal">
                                                    Reducible height:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{
                                                        LengthType = string.Empty;
                                                        if (UnitType == 0 || UnitType == 692001)
                                                        {

                                                            LengthType = " m";

                                                        }
                                                        else if (UnitType == 692002)
                                                        {
                                                            LengthType = " ft";
                                                        }
                                                        if (StringLoadBearing.Height.ReducibleHeight != 0)
                                                        {

                                                            @StringLoadBearing.Height.ReducibleHeight @LengthType
                                                        }
                                                        else
                                                        {
                                                            @Convert.ToString("0") @LengthType
                                                        }
                                                    }
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="2" style="border-top: 1px solid black">
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="wd4 pl-3 text-normal">
                                                    Wheelbase:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{
                                                        LengthType = string.Empty;
                                                        if (UnitType == 0 || UnitType == 692001)
                                                        {

                                                            LengthType = " m";

                                                        }
                                                        else if (UnitType == 692002)
                                                        {
                                                            LengthType = " ft";
                                                        }
                                                        if (StringLoadBearing.Wheelbase != 0)
                                                        {

                                                            @StringLoadBearing.Wheelbase @LengthType
                                                        }
                                                        else
                                                        {
                                                            @Convert.ToString("0") @LengthType
                                                        }
                                                    }
                                                </td>
                                            </tr>

                                            <tr>
                                                <td colspan="2" style="border-top: 1px solid black">
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="wd4 pl-3 text-normal">
                                                    Left overhang:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{
                                                        LengthType = string.Empty;
                                                        if (UnitType == 0 || UnitType == 692001)
                                                        {

                                                            LengthType = " m";

                                                        }
                                                        else if (UnitType == 692002)
                                                        {
                                                            LengthType = " ft";
                                                        }
                                                        if (StringLoadBearing.LeftOverhang != 0)
                                                        {

                                                            @StringLoadBearing.LeftOverhang @LengthType
                                                        }
                                                        else
                                                        {
                                                            @Convert.ToString("0") @LengthType
                                                        }
                                                    }
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="2" style="border-top: 1px solid black">
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="wd4 pl-3 text-normal">
                                                    Right overhang:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{
                                                        LengthType = string.Empty;
                                                        if (UnitType == 0 || UnitType == 692001)
                                                        {

                                                            LengthType = " m";

                                                        }
                                                        else
                                                        {
                                                            LengthType = " ft";
                                                        }
                                                        if (StringLoadBearing.RightOverhang != 0)
                                                        {

                                                            @StringLoadBearing.RightOverhang @LengthType
                                                        }
                                                        else
                                                        {
                                                            @Convert.ToString("0") @LengthType
                                                        }
                                                    }
                                                </td>
                                            </tr>

                                            <tr>
                                                <td colspan="2" style="border-top: 1px solid black">
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="wd4 pl-3 text-normal">
                                                    Front overhang:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{
                                                        LengthType = string.Empty;
                                                        if (UnitType == 0 || UnitType == 692001)
                                                        {

                                                            LengthType = " m";

                                                        }
                                                        else
                                                        {
                                                            LengthType = " ft";
                                                        }
                                                        if (StringLoadBearing.FrontOverhang != 0)
                                                        {

                                                            @StringLoadBearing.FrontOverhang @LengthType
                                                        }
                                                        else
                                                        {
                                                            @Convert.ToString("0") @LengthType
                                                        }
                                                    }
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="2" style="border-top: 1px solid black">
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="wd4 pl-3 text-normal">
                                                    Rear overhang:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{
                                                        LengthType = string.Empty;
                                                        if (UnitType == 0 || UnitType == 692001)
                                                        {

                                                            LengthType = " m";

                                                        }
                                                        else
                                                        {
                                                            LengthType = " ft";
                                                        }
                                                        if (StringLoadBearing.RearOverhang != 0)
                                                        {

                                                            @StringLoadBearing.RearOverhang @LengthType
                                                        }
                                                        else
                                                        {
                                                            @Convert.ToString("0") @LengthType
                                                        }
                                                    }
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="2" style="border-top: 1px solid black">
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="wd4 pl-3 text-normal">
                                                    Ground clearance:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{
                                                        LengthType = string.Empty;
                                                        if (UnitType == 0 || UnitType == 692001)
                                                        {

                                                            LengthType = " m";

                                                        }
                                                        else if (UnitType == 692002)
                                                        {
                                                            LengthType = " ft";
                                                        }
                                                        if (StringLoadBearing.GroundClearance != 0)
                                                        {

                                                            @StringLoadBearing.GroundClearance @LengthType
                                                        }
                                                        else
                                                        {
                                                            @Convert.ToString("0") @LengthType
                                                        }
                                                    }
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="2" style="border-top: 1px solid black">
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="wd4 pl-3 text-normal">
                                                    Reduced ground clearance:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{
                                                        LengthType = string.Empty;
                                                        if (UnitType == 0 || UnitType == 692001)
                                                        {

                                                            LengthType = " m";

                                                        }
                                                        else if (UnitType == 692002)
                                                        {
                                                            LengthType = " ft";
                                                        }
                                                        if (StringLoadBearing.ReducedGroundClearance != 0)
                                                        {

                                                            @StringLoadBearing.ReducedGroundClearance @LengthType
                                                        }
                                                        else
                                                        {
                                                            @Convert.ToString("0") @LengthType
                                                        }
                                                    }
                                                </td>
                                            </tr>

                                            <tr>
                                                <td colspan="2" style="border-top: 1px solid black">
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="wd4 pl-3 text-normal">
                                                    Outside track:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{
                                                        LengthType = string.Empty;
                                                        if (UnitType == 0 || UnitType == 692001)
                                                        {

                                                            LengthType = " m";

                                                        }
                                                        else if (UnitType == 692002)
                                                        {
                                                            LengthType = " ft";
                                                        }
                                                        if (StringLoadBearing.OutsideTrack != 0)
                                                        {

                                                            @StringLoadBearing.OutsideTrack @LengthType
                                                        }
                                                        else
                                                        {
                                                            @Convert.ToString("0") @LengthType
                                                        }
                                                    }
                                                </td>
                                            </tr>

                                            <tr>
                                                <td colspan="2" style="border-top: 1px solid black">
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="wd4 pl-3 text-normal">
                                                    Axle spacing to following:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{
                                                        LengthType = string.Empty;
                                                        if (UnitType == 0 || UnitType == 692001)
                                                        {

                                                            LengthType = " m";

                                                        }
                                                        else if (UnitType == 692002)
                                                        {
                                                            LengthType = " ft";
                                                        }
                                                        if (StringLoadBearing.AxleSpacingToFollowing != 0)
                                                        {

                                                            @StringLoadBearing.AxleSpacingToFollowing @LengthType
                                                        }
                                                        else
                                                        {
                                                            @Convert.ToString("0") @LengthType
                                                        }
                                                    }
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="2" style="border-top: 1px solid black">
                                                </td>
                                            </tr>
                                        </table>
                                    }
                                }
                            </div>
                            <div>
                                <br />
                            </div>
                            <div>
                                @foreach (var itemsDrawbar in item.RoutePart.RoadPart.Vehicles.VehicleSummaryListPosition.VehicleSummary.Configuration.NonSemiVehicle)
                                {

                                    var StringDrawbar = itemsDrawbar.Component.DrawbarTractor;
                                    ComponentType = itemsDrawbar.Component.ComponentType;
                                    if (ComponentType.Contains("tractor"))
                                    {
                                        ComponentType = "Tractor";
                                    }
                                    else
                                    {
                                        ComponentType = "Tractor";
                                    }

                                    if (StringDrawbar != null)
                                    {
                                        <table border="0" cellspacing="5" cellpadding="5">
                                            <tr>
                                                <th>
                                                    <b> @ComponentType.ToUpper() :</b>
                                                </th>
                                                <th>
                                                    <b>
                                                        @StringDrawbar.Summary

                                                    </b>
                                                </th>
                                            </tr>
                                            <tr>
                                                <td colspan="3" style="border-top: 1px solid black">
                                                </td>
                                            </tr>

                                            <tr>
                                                <td class="wd4 pl-3 text-normal">
                                                    Gross weight:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{
                                                        LengthType = string.Empty;
                                                        //if (UnitType == 0 || UnitType == 692001)
                                                        //{

                                                        //    LengthType = " kg";

                                                        //} code optimized compared to xslt
                                                        //else
                                                        //{
                                                        //    LengthType = " kg";
                                                        //}
                                                        LengthType = " kg";
                                                        if (StringDrawbar.Weight != 0)
                                                        {

                                                            @StringDrawbar.Weight @LengthType
                                                        }
                                                        else
                                                        {
                                                            @Convert.ToString("0") @LengthType
                                                        }

                                                    }

                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" style="border-top: 1px solid black">
                                                </td>
                                            </tr>

                                            <tr>


                                                <td class="wd4 pl-3 text-normal">
                                                    Axle weight:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{
                                                        LengthType = string.Empty;



                                                        foreach (var axlesItem in StringDrawbar.AxleConfiguration.AxleWeightListPosition)
                                                        {
                                                            LengthType = string.Empty;
                                                            string axleWeightList = string.Empty;
                                                            if (UnitType == 0 || UnitType == 692001)
                                                            {

                                                                LengthType = " kg";

                                                            }
                                                            else
                                                            {
                                                                LengthType = " yard";
                                                            }

                                                            if (axlesItem.AxleWeight.Value != 0)
                                                            {

                                                                axleWeightList += Convert.ToString(axlesItem.AxleWeight.Value) + LengthType + Convert.ToString(" X ") + Convert.ToString(axlesItem.AxleWeight.AxleCount);
                                                            }
                                                            else
                                                            {
                                                                @Convert.ToString("0")

                                                            }
                                                            @axleWeightList
                                                        }

                                                    }

                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" style="border-top: 1px solid black">
                                                </td>
                                            </tr>
                                            <tr>


                                                <td class="wd4 pl-3 text-normal">
                                                    Wheel per axle:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{


                                                        foreach (var axlesItem in StringDrawbar.AxleConfiguration.WheelsPerAxleListPosition)
                                                        {
                                                            LengthType = string.Empty;
                                                            string axleWhelPerList = string.Empty;


                                                            if (axlesItem.WheelsPerAxle.Value != 0)
                                                            {

                                                                axleWhelPerList += Convert.ToString(axlesItem.WheelsPerAxle.Value) + LengthType + Convert.ToString(" X ") + Convert.ToString(axlesItem.WheelsPerAxle.AxleCount);
                                                            }
                                                            else
                                                            {
                                                                @Convert.ToString("0")

                                                            }
                                                            @axleWhelPerList;
                                                        }
                                                    }
                                                </td>
                                            </tr>

                                            <tr>
                                                <td colspan="2" style="border-top: 1px solid black">
                                                </td>
                                            </tr>
                                            <tr>


                                                <td class="wd4 pl-3 text-normal">
                                                    Axle spacing:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{
                                                        foreach (var axlesItem in StringDrawbar.AxleConfiguration.AxleSpacingListPosition)
                                                        {
                                                            LengthType = string.Empty;
                                                            string axlespacingList = string.Empty;
                                                            if (UnitType == 0 || UnitType == 692001)
                                                            {

                                                                LengthType = " m";

                                                            }
                                                            else
                                                            {
                                                                LengthType = " ft";
                                                            }

                                                            if (axlesItem.AxleSpacing.Value != 0)
                                                            {

                                                                axlespacingList += Convert.ToString(axlesItem.AxleSpacing.Value) + LengthType + Convert.ToString(" X ") + Convert.ToString(axlesItem.AxleSpacing.AxleCount);
                                                            }
                                                            else
                                                            {
                                                                @Convert.ToString("0")

                                                            }
                                                            @axlespacingList
                                                        }

                                                    }
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="2" style="border-top: 1px solid black">
                                                </td>
                                            </tr>
                                            <tr>


                                                <td class="wd4 pl-3 text-normal">
                                                    Tyre size:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{
                                                        LengthType = string.Empty;
                                                        if (UnitType == 0 || UnitType == 692001)
                                                        {

                                                            LengthType = " m";

                                                        }
                                                        else
                                                        {
                                                            LengthType = " ft";
                                                        }


                                                        if (StringDrawbar.AxleConfiguration.TyreSizeListPosition != null)
                                                        {
                                                            foreach (var axlesItem in StringDrawbar.AxleConfiguration.TyreSizeListPosition)
                                                            {
                                                                LengthType = string.Empty;
                                                                string TyresizeList = string.Empty;
                                                                if (UnitType == 0 || UnitType == 692001)
                                                                {

                                                                    LengthType = " m";

                                                                }
                                                                else
                                                                {
                                                                    LengthType = " ft";
                                                                }

                                                                if (axlesItem.TyreSize.Value != 0)
                                                                {

                                                                    TyresizeList += Convert.ToString(axlesItem.TyreSize.Value) + LengthType + Convert.ToString(" X ") + Convert.ToString(axlesItem.TyreSize.AxleCount);
                                                                }
                                                                else
                                                                {
                                                                    @Convert.ToString("0")

                                                                }
                                                                @TyresizeList
                                                            }
                                                        }

                                                    }
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="2" style="border-top: 1px solid black">
                                                </td>
                                            </tr>
                                            <tr>


                                                <td class="wd4 pl-3 text-normal">
                                                    Tyre centres:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{


                                                        foreach (var axlesItem in StringDrawbar.AxleConfiguration.WheelSpacingListPosition)
                                                        {
                                                            LengthType = string.Empty;
                                                            string axleWhelspaceList = string.Empty;


                                                            if (axlesItem.WheelSpacing.AxleCount != 0)
                                                            {

                                                                axleWhelspaceList += Convert.ToString(axlesItem.WheelSpacing.Value) + LengthType + Convert.ToString(" X ") + Convert.ToString(axlesItem.WheelSpacing.AxleCount);
                                                            }
                                                            else
                                                            {
                                                                @Convert.ToString("0")

                                                            }
                                                            @axleWhelspaceList;
                                                        }
                                                    }

                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="2" style="border-top: 1px solid black">
                                                </td>
                                            </tr>
                                            <tr>


                                                <td class="wd4 pl-3 text-normal">
                                                    Length:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{
                                                        LengthType = string.Empty;
                                                        if (UnitType == 0 || UnitType == 692001)
                                                        {

                                                            LengthType = " m";

                                                        }
                                                        else if (UnitType == 692002)
                                                        {
                                                            LengthType = " ft";
                                                        }
                                                        if (StringDrawbar.Length != 0)
                                                        {

                                                            @StringDrawbar.Length @LengthType
                                                        }
                                                        else
                                                        {
                                                            @Convert.ToString("0") @LengthType
                                                        }
                                                    }
                                                </td>
                                            </tr>

                                            <tr>
                                                <td colspan="2" style="border-top: 1px solid black">
                                                </td>
                                            </tr>


                                            <tr>
                                                <td class="wd4 pl-3 text-normal">
                                                    Axle spacing to following:
                                                </td>
                                                <td class="wd4 pl-3 text-normal">
                                                    @{
                                                        LengthType = string.Empty;
                                                        if (UnitType == 0 || UnitType == 692001)
                                                        {

                                                            LengthType = " m";

                                                        }
                                                        else if (UnitType == 692002)
                                                        {
                                                            LengthType = " ft";
                                                        }
                                                        if (StringDrawbar.AxleSpacingToFollowing != 0)
                                                        {

                                                            @StringDrawbar.AxleSpacingToFollowing @LengthType
                                                        }
                                                        else
                                                        {
                                                            @Convert.ToString("0") @LengthType
                                                        }
                                                    }
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="2" style="border-top: 1px solid black">
                                                </td>
                                            </tr>
                                        </table>
                                    }
                                }
                            </div>
                            <div>
                                <br />
                            </div>

                            <!--Semi trailer   There is no input from xml data.. so it is not handled  -->

                            <div>
                                <br />
                            </div>
                            <div>
                                <br />
                            </div>
                            <div>
                                <br />
                            </div>
                            <div>
                                <br />
                            </div>
                            <div>
                                <br />
                            </div>
                            <div>
                                <br />
                            </div>
                            <div>
                                <br />
                            </div>
                            <div class="text-title pt-4 pb-3" style="padding-right:400px">
                                LEG @item.RoutePart.LegNumber
                            </div>

                            <div>
                                <br />
                            </div>
                            <div class="sub-page">
                                <div class="row" style="flex-wrap: nowrap;align-items: center">
                                    <table>
                                        <tr>
                                            <td>
                                                <div style="width: 2rem">
                                                    <img src="../../Content/assets/images/route-start-icon.svg" width="15" alt="vehicle-2">

                                                </div>

                                            </td>
                                            <td>
                                                <div>
                                                    <div style="width: auto" class="pl-0">
                                                        <p>
                                                            @item.RoutePart.RoadPart.StartPointListPosition.StartPoint.Description;

                                                        </p>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </table>


                                </div>
                                <div>
                                    <div style="width: 2rem;padding-left: 4px; margin-top: -11px;">
                                        <p style="display: flex;flex-direction: column; padding-top: -4px;">
                                            <span style="height: 6px;">.</span>
                                            <span style="height: 6px;">.</span>
                                            <span style="height: 6px;">.</span>
                                        </p>
                                    </div>
                                </div>
                                <div class="row mt-2" style="flex-wrap: none;align-items: center;">
                                    <table>
                                        <tr>
                                            <td>
                                                <img src="../../Content/assets/images/destination-icon.svg" width="15" alt="vehicle-2">
                                            </td>
                                            <td>
                                                <div style="width: auto" class="pl-0">

                                                    @item.RoutePart.RoadPart.EndPointListPosition.EndPoint.Description



                                                </div>
                                            </td>
                                        </tr>
                                    </table>


                                </div>
                            </div>
                            <div>
                                <br />
                            </div>



                            <table border="0" cellspacing="15" cellpadding="15">
                                <tr>
                                    <th>
                                        <div class="wd8 pl-3 text-highlight">
                                            Route directions
                                        </div>
                                    </th>
                                    <th>
                                        <div class="wd8 pl-3 text-highlight">
                                            Cautions
                                        </div>
                                    </th>
                                </tr>
                                @foreach (var items in item.RoutePart.RoadPart.DrivingInstructions.SubPartListPosition.SubPart.AlternativeListPosition.Alternative)
                                {
                                    <tr>
                                        <td colspan="3" style="border-top: 1px solid black">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="wd4 pl-3 text-normal">
                                            @items.Instruction.Navigation.Instruction
                                            @{
                                                LengthType = string.Empty;
                                                if (items.Instruction.Navigation.Distance != null)
                                                {


                                                    if (UnitType == 0 || UnitType == 692001)
                                                    {

                                                        if (items.Instruction.Navigation.Distance.DisplayMetric < 1000)
                                                        {
                                                            LengthType = items.Instruction.Navigation.Distance.DisplayMetric + " m";
                                                        }
                                                        else if (items.Instruction.Navigation.Distance.DisplayMetric != 0)
                                                        {
                                                            LengthType = items.Instruction.Navigation.Distance.DisplayMetric / 1000 + " km";
                                                        }
                                                        else if (items.Instruction.Navigation.Distance.DisplayMetric < 1760)
                                                        {
                                                            LengthType = items.Instruction.Navigation.Distance.DisplayMetric + " yards";
                                                        }
                                                        else
                                                        {
                                                            LengthType = items.Instruction.Navigation.Distance.DisplayMetric / 1760 + " miles";
                                                        }


                                                    }



                                                    @LengthType

                                                }
                                            }
                                        </td>
                                        <td class="wd4 pl-3 text-normal">
                                            @{
                                                if (items.Instruction.NoteListPosition != null)
                                                {
                                                    foreach (var notesubitem in items.Instruction.NoteListPosition)
                                                    {

                                                        if (notesubitem.Note.Content.RoutePoint != null && notesubitem.Note.Content.RoutePoint.PointType == "start")
                                                        {
                                                            <br /> <b>Start point further details:</b> @notesubitem.Note.Content.RoutePoint.Description
                                                        }
                                                        else if (notesubitem.Note.Content.RoutePoint != null && notesubitem.Note.Content.RoutePoint.PointType == "end")

                                                        {
                                                            <br /> <b> End point further details</b> @notesubitem.Note.Content.RoutePoint.Description
                                                            <br />
                                                        }
                                                        else if (notesubitem.Note.Content.MotorwayCaution != null)
                                                        {
                                                            @notesubitem.Note.Content.MotorwayCaution.Description

                                                        }


                                                        if (notesubitem.Note.Content.Caution != null)
                                                        {

                                                            if (notesubitem.Note.Content.Caution != null)
                                                            {
                                                                <span> @notesubitem.Note.Content.Caution.Action.Standard </span>

                                                            }
                                                            <br />
                                                            <span>CAUTION: After:</span>


                                                            LengthType = string.Empty;
                                                            if (notesubitem.Note.EncounteredAt.DisplayMetric != 0)
                                                            {


                                                                if (UnitType == 0 || UnitType == 692001)
                                                                {

                                                                    if (notesubitem.Note.EncounteredAt.DisplayMetric < 1000)
                                                                    {
                                                                        LengthType = notesubitem.Note.EncounteredAt.DisplayMetric + " m";
                                                                    }
                                                                    else if (notesubitem.Note.EncounteredAt.DisplayMetric != 0)
                                                                    {
                                                                        LengthType = notesubitem.Note.EncounteredAt.DisplayMetric / 1000 + " km";
                                                                    }
                                                                    else if (notesubitem.Note.EncounteredAt.DisplayImperial < 1760)
                                                                    {
                                                                        LengthType = notesubitem.Note.EncounteredAt.DisplayImperial + " yards";
                                                                    }
                                                                    else
                                                                    {
                                                                        LengthType = notesubitem.Note.EncounteredAt.DisplayImperial / 1760 + " miles";
                                                                    }


                                                                }



                                                                @LengthType

                                                            }
                                                            <br />

                                                            if (notesubitem.Note.Content.Caution.CautionedEntity.Constraint != null)
                                                            {
                                                                <span> @notesubitem.Note.Content.Caution.CautionedEntity.Constraint.ECRN </span>
                                                                <span> @notesubitem.Note.Content.Caution.CautionedEntity.Constraint.ConstraintName </span>
                                                            }
                                                            if (notesubitem.Note.Content.Caution.CautionedEntity.Structure != null)
                                                            {
                                                                <span> @notesubitem.Note.Content.Caution.CautionedEntity.Structure.ESRN </span>
                                                                <span> @notesubitem.Note.Content.Caution.CautionedEntity.Structure.StructureName </span>
                                                            }
                                                        }

                                                        if (notesubitem.Note.GridReference != null)
                                                        {
                                                            <b>
                                                                <br />
                                                                GridRef:
                                                            </b>


                                                            var xVal = notesubitem.Note.GridReference.X;
                                                            if (xVal.ToString().Contains("##**##"))
                                                            {
                                                                string xValBefore = xVal.ToString().Split(new string[] { "##**##" }, StringSplitOptions.None)[0];


                                                                <span> @xValBefore </span>

                                                            }
                                                            else
                                                            {
                                                                <span>@xVal</span>
                                                            }

                                                            var yVal = notesubitem.Note.GridReference.Y;
                                                            if (yVal.ToString().Contains("##**##"))
                                                            {
                                                                string yValBefore = yVal.ToString().Split(new string[] { "##**##" }, StringSplitOptions.None)[0];


                                                                <span> @yValBefore </span>

                                                            }
                                                            else
                                                            {
                                                                <span>@yVal</span>
                                                            }


                                                        }
                                                    }
                                                }
                                            }
                                        </td>
                                    </tr>

                                    <tr>
                                        <td colspan="3" style="border-top: 1px solid black">
                                        </td>
                                    </tr>
                                }

                            </table>
                        }
                        <div>
                            <br />
                        </div>

                        <div>
                            <table>
                                <tr>
                                    <td>
                                        <br />
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-title">
                                        NOTES FOR HAULIER
                                    </td>
                                </tr>
                                <tr>
                                    <td class="wd4 pl-3 text-normal">
                                        @{
                                            if (Convert.ToString(Model.NotesForHaulier).Length > 0)
                                            {
                                                @Model.NotesForHaulier
                                            }
                                            else
                                            {
                                                <p>There are no notes.</p>
                                            }

                                        }


                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div>
                            <br />
                        </div>
                        <div>
                            @{
                                <div class="wd3 pb-3">
                                    @if (Model.PredefinedCautions.DockCautionDescription == '1')
                                    {
                                        <p style="padding-top:6px;">
                                            <b>
                                                <u>
                                                    DOCK CAUTION
                                                </u>
                                            </b>
                                            <br />
                                            The manufacturer and/or hauliers are reminded that it is their responsibility to negotiate with the appropriate dock
                                            manager for the movements within the dock area.
                                        </p>
                                    }

                                </div>
                            }
                        </div>
                        <div>
                            <br />
                        </div>
                        <div>
                            @{
                                <div class="wd3 pb-3">
                                    @foreach (var itemstruct in Model.RouteParts)
                                    {
                                        <p style="padding-top:6px;">

                                            <div class="text-title">AFFECTED STRUCTURES</div> @Convert.ToString(itemstruct.RoutePart.Name)
                                            <br />
                                            Structures you are responsible for have been affected. Details of these structures can be found in ESDAL.
                                        </p>
                                        break;
                                    }

                                </div>
                            }
                        </div>
                        <div>
                            <br />
                        </div>
                        <div>
                            <br />
                        </div>
                        @{
                            foreach (var item in Model.RouteParts)
                            {
                                foreach (var itemInstruction in item.RoutePart.RoadPart.DrivingInstructions.SubPartListPosition.SubPart.AlternativeListPosition.Alternative)
                                {


                                    if (itemInstruction.Instruction.NoteListPosition != null)
                                    {
                                        foreach (var itemNotes in itemInstruction.Instruction.NoteListPosition)
                                        {
                                            if (itemNotes.Note.Content.MotorwayCaution != null)
                                            {


                                                foreach (var itemsubNotes in itemNotes.Note.Content.MotorwayCaution.Description)
                                                {

                                                    if (Convert.ToString(itemsubNotes) != "")
                                                    {


                                                        <div class="wd3 pb-2">
                                                            <div class="text-title">MOTORWAY CAUTIONS</div>
                                                            <ol type="a">
                                                                <li>
                                                                    (a) When travelling on the motorway, vehicles must not travel on the hard shoulder or in the
                                                                </li>
                                                                <li>right hand lane</li>
                                                                <li>Page 29 of 30</li>
                                                                <li>(b) When crossing motorway bridges, vehicles must travel in the left hand lane, unless</li>
                                                                <li>otherwise stated in specific route cautions</li>
                                                                <li>
                                                                    (c) If over 4.877 m in height, height of load must be reduced to a minimum when travelling
                                                                </li>
                                                                <li>under motorway bridges</li>
                                                                <li>
                                                                    (d) If under but near 4.877 m in height, extreme caution must be exercised when travelling
                                                                </li>
                                                                <li>under motorway bridges.</li>
                                                            </ol>
                                                        </div>
                                                        goto motr;
                                                    }


                                                }
                                            }

                                        }

                                    }



                                }
                            motr: break;
                            }

                        }
                    </div>
                </div>
            </div>
        </div>
        <!-- end of main-content -->
        <!-- bootstrap css for vertical menu -->
        <script src="~/Scripts/Common/bootstrap-5.0.0-beta2.bundle.min.js?V@(Session["ProjectVersion"])"></script>
    </body>

</html>
<script src="~/Scripts/CspJs/Document/SortAgreeRoute.js?V@(Session["ProjectVersion"])"></script>
